(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7254],{42630:function(e,a,i){Promise.resolve().then(i.bind(i,75860))},75860:function(e,a,i){"use strict";i.r(a);var s=i(57437),t=i(70899),r=i(2069),l=i(35389),n=i(77584),o=i(58004),d=i(98730),c=i(10932),h=i(2265),x=i(93769),m=i(29239),u=i(41698);a.default=()=>{let{auth:e}=(0,c.a)(),[a,i]=(0,h.useState)(!1),[g,f]=(0,h.useState)([]),[p,j]=(0,h.useState)(""),[w,b]=(0,h.useState)(!0),[C,S]=(0,h.useState)([]),[Z,N]=(0,h.useState)(null),z=(0,t.Z)("(max-width: 600px)");(0,h.useEffect)(()=>{let a=async()=>{try{let a=await fetch(u.x.url+"/gestioncartera/".concat(e.IDSaler),{method:"GET",headers:{"Content-Type":"application/json"}});if(!a.ok)throw Error("Error en la solicitud: ".concat(a.status));let i=await a.json();f(i.data),S(i.data),b(!1)}catch(e){console.log("Error al obtener datos",e)}};(null==e?void 0:e.IDSaler)&&a()},[null==e?void 0:e.IDSaler]);let E=e=>{N(e),i(!0)},R=e=>{f(C.filter(a=>Object.values(a).map(e=>e?e.toString().toLowerCase():"").some(a=>a.includes(e.toLowerCase()))))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{}),!0===w?(0,s.jsx)(r.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,s.jsx)(l.Z,{sx:{color:"#000"}})}):(0,s.jsxs)(m.Z,{container:!0,direction:"column",sx:{minHeight:"100vh",backfroundColor:"#ffffff",padding:2},children:[(0,s.jsx)(m.Z,{size:12,children:(0,s.jsxs)(r.Z,{sx:{display:"flex",flexDirection:z?"column":"row",alignItems:"center"},children:[(0,s.jsx)("h2",{children:(0,s.jsx)("strong",{children:"RUTERO Y GESTI\xd3N DE CARTERA"})}),(0,s.jsx)(r.Z,{sx:{display:"flex",flexDirection:z?"column":"row",alignItems:"center",marginLeft:z?0:"auto",padding:2},children:(0,s.jsx)(n.Z,{id:"outlined-basic",type:"text",value:p,onChange:e=>{j(e.target.value),R(e.target.value)},placeholder:"Buscar...",sx:{width:z?300:400}})})]})}),(0,s.jsx)(m.Z,{size:12,sx:{flexGrow:1,marginBottom:2},children:(0,s.jsx)(r.Z,{sx:{width:"100%",height:z?500:650},children:(0,s.jsx)(x._,{rows:g,columns:[{field:"Fecha_realizacion",headerName:"FECHA",width:200,headerClassName:"header-bold"},{field:"Hora",headerName:"HORA",width:150,headerClassName:"header-bold"},{field:"FKNitCliente",headerName:"NIT",width:150,headerClassName:"header-bold"},{field:"RazonSocial",headerName:"NOMBRE",width:500,headerClassName:"header-bold"},{field:"Agenda",headerName:"AGENDADOS",width:150,headerClassName:"header-bold"}],getRowId:e=>e.PKid,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},pageSizeOptions:[10,20,30],onRowClick:e=>E(e.row)})})})]}),(0,s.jsx)(o.Z,{open:a,onClose:()=>{i(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,s.jsx)(r.Z,{sx:{p:4,backgroundColor:"white",borderRadius:"8px",maxWidth:"650px",width:"90%",height:"40vh",overflowY:"auto",margin:"auto",mt:4,p:2},children:(0,s.jsxs)(s.Fragment,{children:[Z&&(0,s.jsxs)(m.Z,{container:!0,rowSpacing:1.5,columnSpacing:{xs:1,sm:2,md:3},sx:{p:1},children:[(0,s.jsxs)(m.Z,{size:{xs:12,sm:12,md:12},children:[(0,s.jsx)("strong",{children:"Raz\xf3n Social: "}),Z.RazonSocial]}),(0,s.jsxs)(m.Z,{size:{xs:12,sm:12,md:6},children:[(0,s.jsx)("strong",{children:"Realizada Por: "}),Z.FKUsuario]}),(0,s.jsxs)(m.Z,{size:{xs:12,sm:12,md:6},children:[(0,s.jsx)("strong",{children:"Tipo Gesti\xf3n: "}),Z.Tipo]}),(0,s.jsxs)(m.Z,{size:{xs:12,sm:12,md:6},children:[(0,s.jsx)("strong",{children:"\xbfRealiza Pedido? "}),Z.Realiza_pedido]}),(0,s.jsxs)(m.Z,{size:{xs:12,sm:12,md:6},children:[(0,s.jsx)("strong",{children:"\xbfCobr\xf3? "}),Z.Cobro]})]}),Z&&(0,s.jsx)(n.Z,{id:"outlined-basic",multiline:!0,rows:3,defaultValue:Z.Comentario,variant:"outlined",sx:{width:"100%",border:"2px solid #1be0e7"}})]})})})]})}}},function(e){e.O(0,[9461,173,7584,5615,1238,3840,3683,8730,2971,2117,1744],function(){return e(e.s=42630)}),_N_E=e.O()}]);