(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7254],{78860:function(e,a,i){Promise.resolve().then(i.bind(i,59731))},59731:function(e,a,i){"use strict";i.r(a);var s=i(57437),t=i(79647),r=i(17156),o=i(48965),d=i(37241),n=i(47703),l=i(85800),c=i(2265),h=i(86934),x=i(80219),m=i(89967);a.default=()=>{let{auth:e}=(0,l.a)(),[a,i]=(0,c.useState)(!1),[u,g]=(0,c.useState)([]),[p,f]=(0,c.useState)(""),[j,w]=(0,c.useState)([]),[b,C]=(0,c.useState)(null),N=(0,t.Z)("(max-width: 600px)");(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch(m.x.url+"/gestioncartera/".concat(e.IDSaler),{method:"GET",headers:{"Content-Type":"application/json"}});if(!a.ok)throw Error("Error en la solicitud: ".concat(a.status));let i=await a.json();g(i.data),C(i.data),w(i.data)}catch(e){console.log("Error al obtener datos",e)}})()},[]);let Z=e=>{C(e),i(!0)},S=e=>{g(j.filter(a=>Object.values(a).map(e=>e?e.toString().toLowerCase():"").some(a=>a.includes(e.toLowerCase()))))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Z,{}),(0,s.jsxs)(x.Z,{container:!0,direction:"column",sx:{minHeight:"100vh",backfroundColor:"#ffffff",padding:2},children:[(0,s.jsx)(x.Z,{size:12,children:(0,s.jsxs)(r.Z,{sx:{display:"flex",flexDirection:N?"column":"row",alignItems:"center"},children:[(0,s.jsx)("h2",{children:(0,s.jsx)("strong",{children:"RUTERO Y GESTI\xd3N DE CARTERA"})}),(0,s.jsx)(r.Z,{sx:{display:"flex",flexDirection:N?"column":"row",alignItems:"center",marginLeft:N?0:"auto",padding:2},children:(0,s.jsx)(o.Z,{id:"outlined-basic",type:"text",value:p,onChange:e=>{f(e.target.value),S(e.target.value)},placeholder:"Buscar...",sx:{width:N?300:400}})})]})}),(0,s.jsx)(x.Z,{size:12,sx:{flexGrow:1,marginBottom:2},children:(0,s.jsx)(r.Z,{sx:{width:"100%",height:N?500:755},children:(0,s.jsx)(h._,{rows:u,columns:[{field:"Fecha_realizacion",headerName:"FECHA",width:200,headerClassName:"header-bold"},{field:"Hora",headerName:"HORA",width:150,headerClassName:"header-bold"},{field:"FKNitCliente",headerName:"NIT",width:150,headerClassName:"header-bold"},{field:"RazonSocial",headerName:"NOMBRE",width:500,headerClassName:"header-bold"},{field:"Agenda",headerName:"AGENDADOS",width:150,headerClassName:"header-bold"}],getRowId:e=>e.PKid,initialState:{pagination:{paginationModel:{page:0,pageSize:12}}},pageSizeOptions:[12],onRowClick:e=>Z(e.row)})})})]}),(0,s.jsx)(d.Z,{open:a,onClose:()=>{i(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,s.jsx)(r.Z,{sx:{p:4,backgroundColor:"white",borderRadius:"8px",maxWidth:"650px",width:"90%",height:"50vh",overflowY:"auto",margin:"auto",mt:4,p:2},children:(0,s.jsxs)(s.Fragment,{children:[b&&(0,s.jsxs)(x.Z,{container:!0,rowSpacing:1.5,columnSpacing:{xs:1,sm:2,md:3},sx:{p:1},children:[(0,s.jsxs)(x.Z,{size:{xs:36,sm:24,md:12},children:[(0,s.jsx)("strong",{children:"Raz\xf3n Social: "}),b.RazonSocial]}),(0,s.jsxs)(x.Z,{size:{xs:18,sm:12,md:6},children:[(0,s.jsx)("strong",{children:"Realizada Por: "}),b.FKUsuario]}),(0,s.jsxs)(x.Z,{size:{xs:18,sm:12,md:6},children:[(0,s.jsx)("strong",{children:"Tipo Gesti\xf3n: "}),b.Tipo]}),(0,s.jsxs)(x.Z,{size:{xs:18,sm:12,md:6},children:[(0,s.jsx)("strong",{children:"\xbfRealiza Pedido? "}),b.Realiza_pedido]}),(0,s.jsxs)(x.Z,{size:{xs:18,sm:12,md:6},children:[(0,s.jsx)("strong",{children:"\xbfCobr\xf3? "}),b.Cobro]})]}),b&&(0,s.jsx)(o.Z,{id:"outlined-basic",multiline:!0,rows:3,defaultValue:b.Comentario,variant:"outlined",sx:{width:"100%",border:"2px solid #1be0e7"}})]})})})]})}}},function(e){e.O(0,[9461,4759,1513,1929,5202,6934,2398,7703,2971,7023,1744],function(){return e(e.s=78860)}),_N_E=e.O()}]);