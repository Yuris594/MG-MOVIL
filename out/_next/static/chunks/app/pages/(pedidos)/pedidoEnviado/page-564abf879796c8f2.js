(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9131],{68339:(e,a,t)=>{Promise.resolve().then(t.bind(t,19610))},19610:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>p});var r=t(95155),l=t(23165),s=t(2572),i=t(6403),o=t(96854),d=t(12115),n=t(51991),h=t(70689),c=t(30251),u=t(76046),m=t(48097),x=t(8889);let f=e=>new Date(e).toLocaleDateString("es-ES",{month:"short",year:"numeric",day:"numeric"}),g=[{field:"Fecha",headerName:"Fecha",width:150,headerClassName:"header-bold",renderCell:e=>f(e.value)},{field:"FKId_clientes",headerName:"Nit",width:150,headerClassName:"header-bold"},{field:"RazonSocial",headerName:"Nombre o Razon Social",width:500,headerClassName:"header-bold"},{field:"NUMPED",headerName:"Numero Pedido",width:180,headerClassName:"header-bold"},{field:"ESTADO",headerName:"Estado",width:150,headerClassName:"header-bold"}],p=()=>{let e=(0,u.useRouter)(),{auth:a,setClienteV:t}=(0,h.A)(),[f,p]=(0,d.useState)([]),[w,S]=(0,d.useState)(""),[j,N]=(0,d.useState)(!0),[A,y]=(0,d.useState)([]),[C,b]=(0,d.useState)([]),E=(0,l.A)("(max-width: 600px)"),D=async()=>{let e=await fetch(x.m.url+"/pedidos/PEDIDOS/".concat(a.IDSaler),{method:"GET",headers:{"Content-Type":"application/json"}});return await e.json()};(0,d.useEffect)(()=>{(async()=>{try{let e=await D();Array&&Array.isArray(e)?(p(e),y(e),N(!1)):console.error("La estructura de los datos no es la esperada.")}catch(e){console.error("Error al obtener los datos:",e)}})()},[]);let I=e=>{p(A.filter(a=>Object.values(a).map(e=>(null==e?void 0:e.toString().toLowerCase())||"").some(a=>a.includes(e.toLowerCase()))))},v=(0,d.useCallback)(a=>{if(b(a),a.length>0){let r=A.filter(e=>{let t=e.PKId;return!!t&&t.toString().includes(a[0])});localStorage.setItem("detallePedido",JSON.stringify(r)),t(r),e.push("./pedidoEnviado/detallePedido")}},[f]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.A,{}),!0===j?(0,r.jsx)(s.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,r.jsx)(o.A,{sx:{color:"#000"}})}):(0,r.jsx)(s.A,{children:(0,r.jsxs)(m.A,{container:!0,direction:"column",sx:{minHeight:"100vh",backfroundColor:"#ffffff",padding:2},children:[(0,r.jsx)(m.A,{size:12,children:(0,r.jsxs)(s.A,{sx:{display:"flex",flexDirection:E?"column":"row",alignItems:"center"},children:[(0,r.jsx)("h2",{children:(0,r.jsx)("strong",{children:"PEDIDOS ENVIADOS"})}),(0,r.jsx)(s.A,{sx:{display:"flex",flexDirection:E?"column":"row",alignItems:"center",marginLeft:E?0:"auto",padding:2},children:(0,r.jsx)(i.Ay,{type:"text",value:w,onChange:e=>{let a=e.target.value;S(a),I(a)},placeholder:"Buscar...",sx:{width:300,border:"2px solid black"}})})]})}),(0,r.jsx)(m.A,{size:12,sx:{flexGrow:1,marginBottom:2},children:(0,r.jsx)(s.A,{sx:{width:"100%",heigth:E?500:750},children:(0,r.jsx)(c.z,{rows:f,columns:g,getRowId:e=>e.PKId,initialState:{pagination:{paginationModel:{pageSize:10}}},pageSizeOptions:[10,20],onRowSelectionModelChange:v,rowSelectionModel:C})})})]})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[8320,3509,4017,4269,5065,251,1647,1991,8441,1517,7358],()=>a(68339)),_N_E=e.O()}]);