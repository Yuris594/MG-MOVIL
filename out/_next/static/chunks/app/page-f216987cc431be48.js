(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{50525:function(e,t,r){Promise.resolve().then(r.bind(r,80242))},71495:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var o=r(2265),n=r(61994),i=r(20801),a=r(16210),s=r(21086),l=r(50117),c=r(85657),u=r(3858),p=r(53410),d=r(94143),f=r(50738);function m(e){return(0,f.ZP)("MuiAppBar",e)}(0,d.Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);var h=r(57437);let x=e=>{let{color:t,position:r,classes:o}=e,n={root:["root","color".concat((0,c.Z)(t)),"position".concat((0,c.Z)(r))]};return(0,i.Z)(n,m,o)},g=(e,t)=>e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")"):t,v=(0,a.ZP)(p.Z,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t["position".concat((0,c.Z)(r.position))],t["color".concat((0,c.Z)(r.color))]]}})((0,s.Z)(e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter((0,u.Z)(["contrastText"])).map(e=>{var r,o;let[n]=e;return{props:{color:n},style:{"--AppBar-background":(null!==(r=t.vars)&&void 0!==r?r:t).palette[n].main,"--AppBar-color":(null!==(o=t.vars)&&void 0!==o?o:t).palette[n].contrastText}}}),{props:e=>!0===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>!1===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?g(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?g(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}}));var y=o.forwardRef(function(e,t){let r=(0,l.i)({props:e,name:"MuiAppBar"}),{className:o,color:i="primary",enableColorOnDark:a=!1,position:s="fixed",...c}=r,u={...r,color:i,position:s,enableColorOnDark:a},p=x(u);return(0,h.jsx)(v,{square:!0,component:"header",ownerState:u,elevation:4,className:(0,n.Z)(p.root,o,"fixed"===s&&"mui-fixed"),ref:t,...c})})},24021:function(e,t,r){"use strict";r.d(t,{d:function(){return c}});var o=r(2265),n=r(23947),i=r(8659),a=r(72786),s=r(30628);function l(e){return e.substring(2).toLowerCase()}function c(e){let{children:t,disableReactTree:r=!1,mouseEvent:c="onClick",onClickAway:u,touchEvent:p="onTouchEnd"}=e,d=o.useRef(!1),f=o.useRef(null),m=o.useRef(!1),h=o.useRef(!1);o.useEffect(()=>(setTimeout(()=>{m.current=!0},0),()=>{m.current=!1}),[]);let x=(0,n.Z)((0,s.Z)(t),f),g=(0,i.Z)(e=>{let t=h.current;h.current=!1;let o=(0,a.Z)(f.current);if(m.current&&f.current&&(!("clientX"in e)||!(o.documentElement.clientWidth<e.clientX)&&!(o.documentElement.clientHeight<e.clientY))){if(d.current){d.current=!1;return}(e.composedPath?e.composedPath().includes(f.current):!o.documentElement.contains(e.target)||f.current.contains(e.target))||!r&&t||u(e)}}),v=e=>r=>{h.current=!0;let o=t.props[e];o&&o(r)},y={ref:x};return!1!==p&&(y[p]=v(p)),o.useEffect(()=>{if(!1!==p){let e=l(p),t=(0,a.Z)(f.current),r=()=>{d.current=!0};return t.addEventListener(e,g),t.addEventListener("touchmove",r),()=>{t.removeEventListener(e,g),t.removeEventListener("touchmove",r)}}},[g,p]),!1!==c&&(y[c]=v(c)),o.useEffect(()=>{if(!1!==c){let e=l(c),t=(0,a.Z)(f.current);return t.addEventListener(e,g),()=>{t.removeEventListener(e,g)}}},[g,c]),o.cloneElement(t,y)}},14625:function(e,t,r){"use strict";r(2265);var o=r(94630),n=r(57437);t.Z=(0,o.Z)((0,n.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},27696:function(e,t){"use strict";t.Qc=function(e,t){let r=new s,o=e.length;if(o<2)return r;let n=t?.decode||u,i=0;do{let t=e.indexOf("=",i);if(-1===t)break;let a=e.indexOf(";",i),s=-1===a?o:a;if(t>s){i=e.lastIndexOf(";",t-1)+1;continue}let u=l(e,i,t),p=c(e,t,u),d=e.slice(u,p);if(void 0===r[d]){let o=l(e,t+1,s),i=c(e,s,o),a=n(e.slice(o,i));r[d]=a}i=s+1}while(i<o);return r},t.qC=function(e,t,s){let l=s?.encode||encodeURIComponent;if(!r.test(e))throw TypeError(`argument name is invalid: ${e}`);let c=l(t);if(!o.test(c))throw TypeError(`argument val is invalid: ${t}`);let u=e+"="+c;if(!s)return u;if(void 0!==s.maxAge){if(!Number.isInteger(s.maxAge))throw TypeError(`option maxAge is invalid: ${s.maxAge}`);u+="; Max-Age="+s.maxAge}if(s.domain){if(!n.test(s.domain))throw TypeError(`option domain is invalid: ${s.domain}`);u+="; Domain="+s.domain}if(s.path){if(!i.test(s.path))throw TypeError(`option path is invalid: ${s.path}`);u+="; Path="+s.path}if(s.expires){var p;if(p=s.expires,"[object Date]"!==a.call(p)||!Number.isFinite(s.expires.valueOf()))throw TypeError(`option expires is invalid: ${s.expires}`);u+="; Expires="+s.expires.toUTCString()}if(s.httpOnly&&(u+="; HttpOnly"),s.secure&&(u+="; Secure"),s.partitioned&&(u+="; Partitioned"),s.priority)switch("string"==typeof s.priority?s.priority.toLowerCase():void 0){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw TypeError(`option priority is invalid: ${s.priority}`)}if(s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw TypeError(`option sameSite is invalid: ${s.sameSite}`)}return u};let r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,o=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{let e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,r){do{let r=e.charCodeAt(t);if(32!==r&&9!==r)return t}while(++t<r);return r}function c(e,t,r){for(;t>r;){let r=e.charCodeAt(--t);if(32!==r&&9!==r)return t+1}return r}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},99376:function(e,t,r){"use strict";var o=r(35475);r.o(o,"useRouter")&&r.d(t,{useRouter:function(){return o.useRouter}})},80242:function(e,t,r){"use strict";r.r(t),r.d(t,{Copyright:function(){return y},default:function(){return b}});var o=r(57437),n=r(46387),i=r(2069),a=r(71495),s=r(71004),l=r(53410),c=r(77584),u=r(94013),p=r(73986),d=(0,r(94630).Z)((0,o.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),f=r(10932),m=r(99376),h=r(15735),x=r(41698),g=r(2265);let v=g.forwardRef(function(e,t){return(0,o.jsx)(h.Z,{elevation:6,ref:t,...e})});function y(e){return(0,o.jsxs)(n.Z,{variant:"body2",color:"text.secondary",align:"center",...e,children:["Departamento de Sistemas \xa9 ",new Date().getFullYear(),"."]})}let S=async(e,t)=>{let r=await fetch(x.x.url+"/users/username",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({UserName:e,UserPass:t})});return r.ok?r.json():404===r.status?{error:{detail:"Credenciales incorrectas"}}:{error:{detail:"Error desconocido"}}};var b=function(){let e=(0,m.useRouter)(),{login:t,auth:r}=(0,f.a)(),[h,x]=(0,g.useState)(""),[b,k]=(0,g.useState)(!1),[C,w]=(0,g.useState)(!1),[A,Z]=(0,g.useState)(!1),[B,E]=(0,g.useState)(""),j=async r=>{r.preventDefault();try{let r=await S(B,h);r.error?(Z(!0),w(!0)):(k(!0),t(r),e.push("../pages/"))}catch(e){Z(!0),w(!0),console.log("Error en la pagina Iniciar Sesi\xf3n",e)}},I=e=>{"clicaway"!==e&&(k(!1),w(!1))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Z,{sx:{flexGrow:1},children:(0,o.jsx)(a.Z,{position:"static",sx:{bgcolor:"#262626",height:"70px",overflow:"hidden"},children:(0,o.jsx)(s.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:(0,o.jsx)(n.Z,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1},children:"\xa1Bienvenido"})})})}),(0,o.jsx)(i.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",mt:5},children:(0,o.jsxs)(l.Z,{component:"main",elevation:3,sx:{width:"380px",padding:"20px",borderRadius:"15px",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"white",boxShadow:3},children:[(0,o.jsx)(i.Z,{sx:{textAlign:"center",marginBottom:"20px",width:{xs:"250px",sm:"280px",md:"320px"},height:"auto"},children:(0,o.jsx)("img",{src:"/logo_miguelgomez.png",alt:"LOGO",style:{width:"100%",height:"auto",objectFit:"contain"}})}),(0,o.jsxs)(i.Z,{component:"form",onSubmit:j,noValidate:!0,sx:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},children:[(0,o.jsx)(n.Z,{variant:"body2",align:"center",sx:{color:"#757575",marginBottom:"20px"},children:"Utilice su Usuario y Contrase\xf1a"}),(0,o.jsx)(c.Z,{error:A,id:"usuario",label:"Usuario",margin:"normal",fullWidth:!0,name:"PER_Usuario",value:B,onChange:e=>E(e.target.value)}),(0,o.jsx)(c.Z,{error:A,margin:"normal",required:!0,fullWidth:!0,type:"password",name:"PER_Clave",id:"contrase\xf1a",label:"Contrase\xf1a",value:h,onChange:e=>x(e.target.value)}),(0,o.jsx)(u.Z,{type:"submit",fullWidth:!0,sx:{mt:2,backgroundColor:"#0B600B",color:"white","$:hover":{backgroundColor:"#35eb11"}},children:"Iniciar sesi\xf3n"})]}),(0,o.jsx)(y,{sx:{mt:3,mb:1}})]})}),b?(0,o.jsx)(p.Z,{open:b,autoHideDuration:6e3,onClose:I,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,o.jsx)(v,{onClose:I,variant:"filled",icon:(0,o.jsx)(d,{fontSize:"inherit"}),severity:"success",sx:{width:"100%"},children:"Inicio de sesi\xf3n exitosa. \xa1Bienvenido, ".concat(r.UserFullName,"!")})}):"",C?(0,o.jsx)(p.Z,{open:C,autoHideDuration:6e3,onClose:I,children:(0,o.jsx)(v,{onClose:I,variant:"filled",severity:"error",sx:{width:"100%"},children:"Usuario o contrase\xf1as incorrectas. Por favor, int\xe9ntalo nuevamente."})}):""]})}},41698:function(e,t,r){"use strict";r.d(t,{x:function(){return o}});let o={url:"http://192.168.1.3:3010/api"}},10932:function(e,t,r){"use strict";r.d(t,{a:function(){return l}});var o=r(57437),n=r(2265),i=r(99376),a=r(27696);let s=(0,n.createContext)({login:e=>{},logout:()=>{}});t.default=e=>{let{children:t}=e;(0,i.useRouter)();let[r,l]=(0,n.useState)(null),[c,u]=(0,n.useState)({}),[p,d]=(0,n.useState)({}),[f,m]=(0,n.useState)({}),h=(0,n.useCallback)(function(e){document.cookie=(0,a.qC)("auth",JSON.stringify(e.signedUser),{maxAge:604800,path:"/",httpOnly:!1,secure:!1,sameSite:"Strict"}),localStorage.setItem("auth",JSON.stringify(e.signedUser)),localStorage.setItem("Tokens",JSON.stringify(e.token)),l(e.signedUser)},[]),x=(0,n.useCallback)(function(e){document.cookie=(0,a.qC)("auth","",{maxAge:-1,path:"/"}),localStorage.removeItem("auth"),localStorage.removeItem("Tokens")},[]);(0,n.useEffect)(()=>{let e=localStorage.getItem("auth"),t=localStorage.getItem("clienteV"),r=localStorage.getItem("pedidoV"),o=localStorage.getItem("cartera");e&&l(JSON.parse(e)),t&&u(JSON.parse(t)),r&&d(JSON.parse(r)),o&&m(JSON.parse(o))},[]),(0,n.useEffect)(()=>{let e=(0,a.Qc)(document.cookie||"");e.auth&&l(JSON.parse(e.auth))},[]);let g=(0,n.useMemo)(()=>({auth:r,login:h,logout:x,clienteV:c,setClienteV:u,pedidosV:p,setPedidosV:d,carteraV:f,setCarteraV:m}),[r,c,p,f,h,x]);return(0,o.jsx)(s.Provider,{value:g,children:t})};let l=()=>(0,n.useContext)(s)}},function(e){e.O(0,[173,7584,3859,2971,2117,1744],function(){return e(e.s=50525)}),_N_E=e.O()}]);