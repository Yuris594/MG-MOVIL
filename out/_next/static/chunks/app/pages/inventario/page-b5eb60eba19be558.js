(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[353],{87732:function(e,a,t){Promise.resolve().then(t.bind(t,85477))},85477:function(e,a,t){"use strict";t.r(a);var i=t(57437),d=t(79647),r=t(17156),o=t(14595),s=t(48965),l=t(59415),n=t(47703),h=t(86934),c=t(2265),m=t(80219),f=t(89967);a.default=()=>{let[e,a]=(0,c.useState)([]),[t,u]=(0,c.useState)([]),[g,w]=(0,c.useState)([]),x=(0,d.Z)("(max-width: 600px)");(0,c.useEffect)(()=>{(async()=>{try{let e=await (0,l.zK)();if(navigator.onLine){let t=await fetch(f.x.url+"/articles/articles/inventario",{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Error en la solicitud: ".concat(t.status));let i=await t.json();for(let t of(a(i.data),w(i.data),i.data))await e.get("articles",t.PKcodigo)||await e.add("articles",t);console.log("Datos guardados en IndexedDB y Datos cargados desde la API")}else{let t=await e.getAll("articles");a(t),w(t),console.log("Datos cargados desde IndexedDB")}}catch(e){console.log("Error al obtener los datos",e)}})()},[]);let N=e=>{a(g.filter(a=>Object.values(a).map(e=>e?e.toString().toLowerCase():"").some(a=>a.includes(e.toLowerCase()))))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.Z,{}),(0,i.jsxs)(m.Z,{container:!0,direction:"column",sx:{minHeight:"100vh",backfroundColor:"#ffffff",padding:2},children:[(0,i.jsxs)(m.Z,{size:12,children:[(0,i.jsx)(r.Z,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:(0,i.jsx)("h2",{children:(0,i.jsx)("strong",{children:"LISTADO DE ARTICULO"})})}),(0,i.jsx)(o.Z,{})]}),(0,i.jsx)(m.Z,{size:12,sx:{padding:2},children:(0,i.jsx)(s.Z,{id:"outlined-basic",label:"Digite Codigo o Referencia para Buscar",multiline:!0,rows:1,variant:"outlined",value:t,onChange:e=>{e.preventDefault(),u(e.target.value),N(e.target.value)},sx:{width:"100%",marginBottom:2}})}),(0,i.jsx)(m.Z,{size:12,sx:{flexGrow:1,marginBottom:2},children:(0,i.jsx)(r.Z,{sx:{width:"100%",height:x?500:1170},children:(0,i.jsx)(h._,{rows:e,columns:[{field:"PKcodigo",headerName:"COD",width:100,headerClassName:"header-bold"},{field:"Nombre",headerName:"REFERENCIA",width:400,headerClassName:"header-bold"},{field:"Sublinea",headerName:"SUBLINEA",width:200,headerClassName:"header-bold"},{field:"Unidad_Empaque",headerName:"EMP",width:80,headerClassName:"header-bold"},{field:"Precio",headerName:"PRECIO",width:90,headerClassName:"header-bold"},{field:"Iva",headerName:"IVA",width:80,headerClassName:"header-bold"},{field:"Descuento",headerName:"DES",width:90,headerClassName:"header-bold"},{field:"Precio_Neto",headerName:"NETO",width:80,headerClassName:"header-bold"},{field:"Disp",headerName:"DISP",width:80,headerClassName:"header-bold"}],getRowId:e=>e.PKcodigo,initialState:{pagination:{paginationModel:{pageSize:20}}},pageSizeOptions:[20],sx:{"&.MuiDataGrid-columnHeader":{fontSize:x?"0.75rem":"1rem"},"&.MuiDataGrid-cell":{fontSize:x?"0.75rem":"0.875rem"}}})})})]})]})}}},function(e){e.O(0,[9461,4759,1513,1929,5202,6934,2398,7703,2971,7023,1744],function(){return e(e.s=87732)}),_N_E=e.O()}]);