(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7717],{90539:function(e,r,s){Promise.resolve().then(s.bind(s,5898))},90922:function(e,r,s){"use strict";var o=s(59018),t=s(57437);r.Z=(0,o.Z)((0,t.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment")},19492:function(e,r,s){"use strict";var o=s(59018),t=s(57437);r.Z=(0,o.Z)((0,t.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel")},10524:function(e,r,s){"use strict";var o=s(59018),t=s(57437);r.Z=(0,o.Z)((0,t.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},19337:function(e,r,s){"use strict";var o=s(59018),t=s(57437);r.Z=(0,o.Z)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},70062:function(e,r,s){"use strict";var o=s(59018),t=s(57437);r.Z=(0,o.Z)((0,t.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email")},96598:function(e,r,s){"use strict";s.d(r,{Z:function(){return v}});var o=s(2265),t=s(44839),i=s(72491),l=s(70587),a=s(76990),n=s(49134),c=s(13820),d=s(9325),x=s(7173),h=s(53877),u=s(91572),m=s(57437);let f=(0,x.Z)(),p=(0,n.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,r)=>r.root});function j(e){return(0,c.Z)({props:e,name:"MuiStack",defaultTheme:f})}let Z=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],g=({ownerState:e,theme:r})=>{let s={display:"flex",flexDirection:"column",...(0,h.k9)({theme:r},(0,h.P$)({values:e.direction,breakpoints:r.breakpoints.values}),e=>({flexDirection:e}))};if(e.spacing){let o=(0,u.hB)(r),t=Object.keys(r.breakpoints.values).reduce((r,s)=>(("object"==typeof e.spacing&&null!=e.spacing[s]||"object"==typeof e.direction&&null!=e.direction[s])&&(r[s]=!0),r),{}),l=(0,h.P$)({values:e.direction,base:t}),a=(0,h.P$)({values:e.spacing,base:t});"object"==typeof l&&Object.keys(l).forEach((e,r,s)=>{if(!l[e]){let o=r>0?l[s[r-1]]:"column";l[e]=o}}),s=(0,i.Z)(s,(0,h.k9)({theme:r},a,(r,s)=>e.useFlexGap?{gap:(0,u.NA)(o,r)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Z(s?l[s]:e.direction)}`]:(0,u.NA)(o,r)}}))}return(0,h.dt)(r.breakpoints,s)};var C=s(48024),b=s(69281),v=function(e={}){let{createStyledComponent:r=p,useThemeProps:s=j,componentName:i="MuiStack"}=e,n=()=>(0,a.Z)({root:["root"]},e=>(0,l.ZP)(i,e),{}),c=r(g);return o.forwardRef(function(e,r){let i=s(e),{component:l="div",direction:a="column",spacing:x=0,divider:h,children:u,className:f,useFlexGap:p=!1,...j}=(0,d.Z)(i),Z=n();return(0,m.jsx)(c,{as:l,ownerState:{direction:a,spacing:x,useFlexGap:p},ref:r,className:(0,t.Z)(Z.root,f),...j,children:h?function(e,r){let s=o.Children.toArray(e).filter(Boolean);return s.reduce((e,t,i)=>(e.push(t),i<s.length-1&&e.push(o.cloneElement(r,{key:`separator-${i}`})),e),[])}(u,h):u})})}({createStyledComponent:(0,C.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,r)=>r.root}),useThemeProps:e=>(0,b.Z)({props:e,name:"MuiStack"})})},5898:function(e,r,s){"use strict";s.r(r);var o=s(57437),t=s(79647),i=s(17156),l=s(74275),a=s(37241),n=s(14595),c=s(83719),d=s(48965),x=s(96598),h=s(76548),u=s(60335),m=s(68311),f=s(42188),p=s(10524),j=s(90922),Z=s(58188),g=s(19492),C=s(19337),b=s(70062),v=s(59415),w=s(47703),y=s(85800),z=s(86934),k=s(2265),E=s(80219),N=s(89967),S=s(64379),R=s.n(S),I=s(87138);let D=[{field:"NIT",headerName:"NIT",width:150,headerClassName:"header-bold"},{field:"RazonSocial",headerName:"NOMBRE",width:400,headerClassName:"header-bold"},{field:"Direccion",headerName:"DIRECCI\xd3N",width:200,headerClassName:"header-bold"},{field:"Telefono",headerName:"TELEFONO",width:150,headerClassName:"header-bold"},{field:"PER_Nom",headerName:"VENDEDOR",width:150,headerClassName:"header-bold"},{field:"TotalCartera",headerName:"CARTERA",width:150,align:"right",headerClassName:"header-bold"}];r.default=()=>{let{auth:e,setClienteV:r}=(0,y.a)(),[s,S]=(0,k.useState)(!1),[T,P]=(0,k.useState)(!1),[L,A]=(0,k.useState)([]),[O,M]=(0,k.useState)(""),[B,V]=(0,k.useState)([]),[_,F]=(0,k.useState)(null),[H,$]=(0,k.useState)(_?_.Email:""),W=(0,t.Z)("(max-width: 600px)"),G=e=>{F(e),$(e.Email),r(e),S(!0)},Y=()=>{S(!1),F(null)},J=()=>{P(!1)};(0,k.useEffect)(()=>{(async()=>{try{let r=await (0,v.zK)(),s=await r.getAll("customers");if(s.length>0)A(s),V(s),console.log("Datos cargados desde IndexedDB");else{let s=await fetch(N.x.url+"/customers/Customers"),o=(await s.json()).filter(r=>r.IDVendedor===e.IDSaler);for(let e of(A(o),V(o),o))await r.add("customers",e);console.log("Datos guardados/actualizados en IndexedDB")}}catch(e){console.error("Error al obtener los datos:",e)}})()},[]);let K=e=>{A(B.filter(r=>Object.values(r).map(e=>e?e.toString().toLowerCase():"").some(r=>r.includes(e.toLowerCase()))))},q=async()=>{let e={NIT:_.NIT,Email:_.Email,PutEmail:H};console.log("Enviando correo actualizado: ",e);try{let r=await fetch(N.x.url+"/customers/updatemail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(r.ok){let e=await r.json();R().fire({position:"top-end",icom:"success",title:"Email Actualizado con Exito!.",text:"".concat(e.text),showConfirmButton:!1,timer:2500}),J()}else R().fire({icon:"error",title:"Oops...!",text:"Error al Actualizar el Email."})}catch(e){console.error("Error al actualizar el correo:",e),R().fire({icon:"error",title:"Error en la Red",text:"No se pudo Actualizar el Correo debido a un Problema de Red."})}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(w.Z,{}),(0,o.jsxs)(E.Z,{container:!0,direction:"column",sx:{minHeight:"100vh",backfroundColor:"#ffffff",padding:2},children:[(0,o.jsx)(E.Z,{size:12,children:(0,o.jsxs)(i.Z,{sx:{display:"flex",flexDirection:W?"column":"row",alignItems:"center"},children:[(0,o.jsx)("h2",{children:(0,o.jsx)("strong",{children:"LISTADO DE CLIENTES"})}),(0,o.jsx)(i.Z,{sx:{display:"flex",flexDirection:W?"column":"row",alignItems:"center",marginLeft:W?0:"auto",padding:2},children:(0,o.jsx)(l.ZP,{value:O,onChange:e=>{M(e.target.value),K(e.target.value)},type:"text",placeholder:"Buscar...",sx:{width:W?300:400,border:"2px solid black"}})})]})}),(0,o.jsx)(E.Z,{size:12,sx:{flexGrow:1,marginBottom:2},children:(0,o.jsx)(i.Z,{sx:{width:"100%",height:W?500:660},children:(0,o.jsx)(z._,{rows:L,columns:D,getRowId:e=>e.NIT,initialState:{pagination:{paginationModel:{pageSize:10}}},pageSizeOptions:[10],onRowClick:e=>G(e.row)})})})]}),(0,o.jsx)(a.Z,{open:s,onClose:Y,BackdropProps:{onClick:e=>e.stopPropagation()},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,o.jsxs)(i.Z,{sx:{p:4,backgroundColor:"white",borderRadius:"8px",maxWidth:"750px",width:"90%",height:"90vh",overflowY:"auto",margin:"auto",mt:4,p:2},children:[_&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h3",{children:(0,o.jsx)("strong",{style:{fontSize:20,color:"#1be0e7"},children:_.RazonSocial})}),(0,o.jsx)(n.Z,{}),(0,o.jsxs)(E.Z,{container:!0,rowSpacing:1.5,columnSpacing:{xs:1,sm:2,md:3},sx:{p:1},children:[(0,o.jsxs)(E.Z,{size:{xs:9,sm:6,md:3},children:[(0,o.jsx)("strong",{children:"NIT"}),(0,o.jsx)(c.Z,{sx:{mb:1.5,display:"flex"},children:_.NIT})]}),(0,o.jsxs)(E.Z,{size:{xs:9,sm:6,md:3},children:[(0,o.jsx)("strong",{children:"Cupo"}),(0,o.jsx)(c.Z,{sx:{mb:1.5,display:"flex"},children:_.CupoCreditoCliente})]}),(0,o.jsxs)(E.Z,{size:{xs:9,sm:6,md:3},children:[(0,o.jsx)("strong",{children:"Debe"}),(0,o.jsx)(c.Z,{sx:{mb:1.5,display:"flex",color:"#f01212"},children:_.TotalCartera})]}),(0,o.jsxs)(E.Z,{size:{xs:9,sm:6,md:3},children:[(0,o.jsx)("strong",{children:"Tel\xe9fono"}),(0,o.jsx)(c.Z,{sx:{mb:1.5,display:"flex"},children:_.Telefono})]}),(0,o.jsxs)(E.Z,{size:{xs:9,sm:6,md:3},children:[(0,o.jsx)("strong",{children:"Celular"}),(0,o.jsx)(c.Z,{sx:{mb:1.5,display:"flex"},children:_.Celular})]}),(0,o.jsxs)(E.Z,{size:{xs:9,sm:6,md:3},children:[(0,o.jsx)("strong",{children:"Fax"}),(0,o.jsx)(c.Z,{sx:{mb:1.5,display:"flex"},children:_.Fax})]}),(0,o.jsxs)(E.Z,{size:{xs:9,sm:6,md:3},children:[(0,o.jsx)("strong",{children:"Direcci\xf3n"}),(0,o.jsx)(c.Z,{sx:{mb:1.5,display:"flex"},children:_.Direccion})]}),(0,o.jsxs)(E.Z,{size:{xs:9,sm:6,md:3},children:[(0,o.jsx)("strong",{children:"Ciudad"}),(0,o.jsx)(c.Z,{sx:{mb:1.5,display:"flex"},children:_.CityName})]}),(0,o.jsxs)(E.Z,{size:{xs:9,sm:6,md:3},children:[(0,o.jsx)("strong",{children:"Departamento"}),(0,o.jsx)(c.Z,{sx:{mb:1.5,display:"flex"},children:_.DepartmentName})]}),(0,o.jsxs)(E.Z,{size:{xs:18,sm:12,md:6},children:[(0,o.jsx)("strong",{children:"Email"}),(0,o.jsx)(c.Z,{sx:{mb:1.5,display:"flex"},children:_.Email})]})]}),(0,o.jsx)(d.Z,{id:"outlined-basic",multiline:!0,rows:3,defaultValue:_.Comentarios,variant:"outlined",sx:{width:"100%",border:"2px solid #1be0e7"}})]}),(0,o.jsx)(n.Z,{sx:{margin:2}}),(0,o.jsxs)(x.Z,{direction:"row",spacing:2,sx:{flexWrap:"wrap",justifyContent:"center",p:2},children:[(0,o.jsx)(h.Z,{variant:"outlined",startIcon:(0,o.jsx)(j.Z,{}),sx:{color:"#29e5ad",margin:"2px"},LinkComponent:I.default,href:"./client/pedidos",children:"Pedidos"}),(0,o.jsx)(h.Z,{variant:"outlined",startIcon:(0,o.jsx)(m.Z,{}),sx:{color:"#e52990",margin:"2px"},LinkComponent:I.default,href:"./client/rutero",children:"Realizar Rutero"}),(0,o.jsx)(h.Z,{variant:"outlined",startIcon:(0,o.jsx)(b.Z,{}),color:"success",onClick:()=>{P(!0)},children:"Actualizar Correo"}),(0,o.jsx)(h.Z,{variant:"outlined",startIcon:(0,o.jsx)(Z.Z,{}),color:"secondary",LinkComponent:I.default,href:"./client/recibo",children:"Ver Recibos"}),(0,o.jsx)(h.Z,{variant:"outlined",startIcon:(0,o.jsx)(f.Z,{}),sx:{color:"#2948e5",margin:"2px"},LinkComponent:I.default,href:"./client/crearRecibo",children:"Realizar Recibo"}),(0,o.jsx)(h.Z,{variant:"contained",startIcon:(0,o.jsx)(C.Z,{}),color:"error",onClick:Y,children:"Cerrar"})]})]})}),(0,o.jsx)(a.Z,{open:T,onClose:J,BackdropProps:{onClick:e=>e.stopPropagation()},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,o.jsxs)(i.Z,{sx:{p:4,backgroundColor:"white",borderRadius:"8px",maxWidth:"550px",width:"90%",height:"52vh",overflowY:"auto",margin:"auto",mt:4},children:[(0,o.jsx)("strong",{children:"Actualizar Correo Electr\xf3nico"}),(0,o.jsx)(n.Z,{}),(0,o.jsx)("h3",{sx:{p:2,color:"#fff"},children:_&&_.RazonSocial}),(0,o.jsx)(n.Z,{}),(0,o.jsx)("strong",{children:"EMAIL: "}),(0,o.jsx)(d.Z,{label:"Correo Electr\xf3nico",variant:"outlined",fullWidth:!0,margin:"normal",value:H,onChange:e=>$(e.target.value)}),(0,o.jsx)(n.Z,{}),(0,o.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:[(0,o.jsx)(u.Z,{color:"success",onClick:q,children:(0,o.jsx)(p.Z,{sx:{fontSize:40}})}),(0,o.jsx)(u.Z,{color:"error",onClick:J,children:(0,o.jsx)(g.Z,{sx:{fontSize:40}})})]})]})})]})}}},function(e){e.O(0,[9461,5148,8965,3083,1092,6934,2398,7703,2971,7023,1744],function(){return e(e.s=90539)}),_N_E=e.O()}]);