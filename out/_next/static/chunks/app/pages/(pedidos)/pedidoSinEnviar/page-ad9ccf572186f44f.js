(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4491],{32348:function(e,t,a){Promise.resolve().then(a.bind(a,90552))},90552:function(e,t,a){"use strict";a.r(t);var o=a(57437),l=a(79647),i=a(60335),r=a(17156),n=a(74275),d=a(37241),s=a(19492),c=a(47703),h=a(86934),u=a(80219),f=a(2265),x=a(94651),p=a(85800);let g={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxHeight:"90vh",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,overflow:"auto",p:4};t.default=()=>{let[e,t]=(0,f.useState)(!1),[a,m]=(0,f.useState)([]),{clienteV:w,setPedidosV:S}=(0,p.a)(),[b,N]=(0,f.useState)([]),[j,C]=(0,f.useState)([]),[I,Z]=(0,f.useState)(null),k=(0,l.Z)("(max-width: 600px)"),v=e=>{Z(e),t(!0)},P=()=>{t(!1),Z(null)};(0,f.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("pedidos"))||[];e.filter(e=>e.NitC===w.NIT);let t=e.map(e=>({...e,fechaFormateada:D(e.Fecha)}));m(t),S(t),C(t)},[S,w.NIT]);let D=e=>{let t=new Date(e),a=t.getDate().toString().padStart(2,"0"),o=(t.getMonth()+1).toString().padStart(2,"0"),l=t.getFullYear();return"".concat(o,"/").concat(a,"/").concat(l)},O=e=>{let t=a.filter(t=>t.PKId!==e.PKId);localStorage.setItem("pedidos",JSON.stringify(t)),m(t),S(t)},_=e=>{m(j.filter(t=>Object.values(t).map(e=>e?e.toString().toLowerCase():"").some(t=>t.includes(e.toLowerCase()))))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.Z,{}),(0,o.jsxs)(u.Z,{container:!0,direction:"column",sx:{minHeight:"100vh",backfroundColor:"#ffffff",padding:2},children:[(0,o.jsx)(u.Z,{size:12,children:(0,o.jsxs)(r.Z,{sx:{display:"flex",flexDirection:k?"column":"row",alignItems:"center"},children:[(0,o.jsx)("h2",{children:(0,o.jsx)("strong",{children:"PEDIDOS SIN ENVIAR"})}),(0,o.jsx)(r.Z,{sx:{display:"flex",flexDirection:k?"column":"row",alignItems:"center",marginLeft:k?0:"auto",padding:2},children:(0,o.jsx)(n.ZP,{value:b,onChange:e=>{N(e.target.value),_(e.target.value),console.log(e.target.value)},placeholder:"Buscar...",sx:{width:300,border:"2px solid black"}})})]})}),(0,o.jsx)(u.Z,{size:12,sx:{flexGrow:1,marginBottom:2},children:(0,o.jsx)(r.Z,{sx:{width:"100%",heigth:k?500:750},children:(0,o.jsx)(h._,{rows:a,columns:[{field:"PKId",headerName:"No",width:80},{field:"fechaFormateada",headerName:"Fecha",width:150},{field:"NitC",headerName:"NIT",width:150},{field:"nombreC",headerName:"Nombre o Razon Social",width:400},{field:"actions",headerName:"",width:70,renderCell:e=>(0,o.jsx)(i.Z,{onClick:()=>O(e.row),"aria-label":"cancel",color:"error",sx:{fontSize:40},children:(0,o.jsx)(s.Z,{})})}],getRowId:e=>e.PKId,initialState:{pagination:{paginationModel:{pageSize:10}}},pageSizeOptions:[10],onRowDoubleClick:e=>v(e.row)})})})]}),(0,o.jsx)(d.Z,{open:e,onClose:P,BackdropProps:{onClick:e=>e.stopPropagation()},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,o.jsx)(r.Z,{sx:g,children:(0,o.jsx)(x.default,{pedido:I,handleClose:P})})})]})}}},function(e){e.O(0,[9461,5148,8965,3083,1092,6934,2398,7703,4651,2971,7023,1744],function(){return e(e.s=32348)}),_N_E=e.O()}]);