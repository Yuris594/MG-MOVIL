(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3823],{79739:(e,a,i)=>{Promise.resolve().then(i.bind(i,24652))},24652:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>u});var s=i(95155),r=i(23165),t=i(2572),d=i(19293),l=i(92608),o=i(51991),n=i(70689),h=i(12115),c=i(30251),x=i(48097),m=i(8889);let u=()=>{let{auth:e}=(0,n.A)(),[a,i]=(0,h.useState)(!1),[u,g]=(0,h.useState)([]),[p,j]=(0,h.useState)(""),[f,w]=(0,h.useState)([]),[A,b]=(0,h.useState)(null),C=(0,r.A)("(max-width: 600px)");(0,h.useEffect)(()=>{(async()=>{try{let a=await fetch(m.m.url+"/gestioncartera/".concat(e.IDSaler),{method:"GET",headers:{"Content-Type":"application/json"}});if(!a.ok)throw Error("Error en la solicitud: ".concat(a.status));let i=await a.json();g(i.data),b(i.data),w(i.data)}catch(e){console.log("Error al obtener datos",e)}})()},[]);let N=e=>{b(e),i(!0)},z=e=>{g(f.filter(a=>Object.values(a).map(e=>e?e.toString().toLowerCase():"").some(a=>a.includes(e.toLowerCase()))))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{}),(0,s.jsxs)(x.A,{container:!0,direction:"column",sx:{minHeight:"100vh",backfroundColor:"#ffffff",padding:2},children:[(0,s.jsx)(x.A,{size:12,children:(0,s.jsxs)(t.A,{sx:{display:"flex",flexDirection:C?"column":"row",alignItems:"center"},children:[(0,s.jsx)("h2",{children:(0,s.jsx)("strong",{children:"RUTERO Y GESTI\xd3N DE CARTERA"})}),(0,s.jsx)(t.A,{sx:{display:"flex",flexDirection:C?"column":"row",alignItems:"center",marginLeft:C?0:"auto",padding:2},children:(0,s.jsx)(d.A,{id:"outlined-basic",type:"text",value:p,onChange:e=>{j(e.target.value),z(e.target.value)},placeholder:"Buscar...",sx:{width:C?300:400}})})]})}),(0,s.jsx)(x.A,{size:12,sx:{flexGrow:1,marginBottom:2},children:(0,s.jsx)(t.A,{sx:{width:"100%",height:C?500:755},children:(0,s.jsx)(c.z,{rows:u,columns:[{field:"Fecha_realizacion",headerName:"FECHA",width:200,headerClassName:"header-bold"},{field:"Hora",headerName:"HORA",width:150,headerClassName:"header-bold"},{field:"FKNitCliente",headerName:"NIT",width:150,headerClassName:"header-bold"},{field:"RazonSocial",headerName:"NOMBRE",width:500,headerClassName:"header-bold"},{field:"Agenda",headerName:"AGENDADOS",width:150,headerClassName:"header-bold"}],getRowId:e=>e.PKid,initialState:{pagination:{paginationModel:{page:0,pageSize:12}}},pageSizeOptions:[12],onRowClick:e=>N(e.row)})})})]}),(0,s.jsx)(l.A,{open:a,onClose:()=>{i(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,s.jsx)(t.A,{sx:{p:4,backgroundColor:"white",borderRadius:"8px",maxWidth:"650px",width:"90%",height:"40vh",overflowY:"auto",margin:"auto",mt:4,p:2},children:(0,s.jsxs)(s.Fragment,{children:[A&&(0,s.jsxs)(x.A,{container:!0,rowSpacing:1.5,columnSpacing:{xs:1,sm:2,md:3},sx:{p:1},children:[(0,s.jsxs)(x.A,{size:{xs:36,sm:24,md:12},children:[(0,s.jsx)("strong",{children:"Raz\xf3n Social: "}),A.RazonSocial]}),(0,s.jsxs)(x.A,{size:{xs:18,sm:12,md:6},children:[(0,s.jsx)("strong",{children:"Realizada Por: "}),A.FKUsuario]}),(0,s.jsxs)(x.A,{size:{xs:18,sm:12,md:6},children:[(0,s.jsx)("strong",{children:"Tipo Gesti\xf3n: "}),A.Tipo]}),(0,s.jsxs)(x.A,{size:{xs:18,sm:12,md:6},children:[(0,s.jsx)("strong",{children:"\xbfRealiza Pedido? "}),A.Realiza_pedido]}),(0,s.jsxs)(x.A,{size:{xs:18,sm:12,md:6},children:[(0,s.jsx)("strong",{children:"\xbfCobr\xf3? "}),A.Cobro]})]}),A&&(0,s.jsx)(d.A,{id:"outlined-basic",multiline:!0,rows:3,defaultValue:A.Comentario,variant:"outlined",sx:{width:"100%",border:"2px solid #1be0e7"}})]})})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[8320,6121,9293,4269,6251,251,1647,1991,8441,1517,7358],()=>a(79739)),_N_E=e.O()}]);