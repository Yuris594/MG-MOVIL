(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8695],{4374:function(e,t,a){Promise.resolve().then(a.bind(a,12396))},12396:function(e,t,a){"use strict";a.r(t);var o=a(57437),i=a(79647),l=a(60335),r=a(17156),n=a(48965),s=a(37241),d=a(19492),c=a(47703),h=a(86934),u=a(80219),f=a(2265),g=a(85800),x=a(85701);let m={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxHeight:"90vh",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,overflow:"auto",p:4};t.default=()=>{let[e,t]=(0,f.useState)(!1),[a,p]=(0,f.useState)([]),{clienteV:w,setPedidosV:S}=(0,g.a)(),[b,j]=(0,f.useState)([]),[N,C]=(0,f.useState)([]),[I,Z]=(0,f.useState)(null),v=(0,i.Z)("(max-width: 600px)"),k=e=>{Z(e),t(!0)},z=()=>{t(!1),Z(null)};(0,f.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("cotizacion"))||[];e.filter(e=>e.NitC===w.NIT);let t=e.map(e=>({...e,fechaFormateada:O(e.Fecha)}));p(t),S(t),C(t)},[S,w.NIT]);let O=e=>{let t=new Date(e),a=t.getDate().toString().padStart(2,"0"),o=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getFullYear();return"".concat(o,"/").concat(a,"/").concat(i)},P=e=>{let t=a.filter(t=>t.PKId!==e.PKId);localStorage.setItem("pedidos",JSON.stringify(t)),p(t),S(t)},_=e=>{p(N.filter(t=>Object.values(t).map(e=>e?e.toString().toLowerCase():"").some(t=>t.includes(e.toLowerCase()))))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.Z,{}),(0,o.jsxs)(u.Z,{container:!0,direction:"column",sx:{minHeight:"100vh",backfroundColor:"#ffffff",padding:2},children:[(0,o.jsx)(u.Z,{size:12,children:(0,o.jsxs)(r.Z,{sx:{display:"flex",flexDirection:v?"column":"row",alignItems:"center"},children:[(0,o.jsx)("h2",{children:(0,o.jsx)("strong",{children:"COTIZACI\xd3N"})}),(0,o.jsx)(r.Z,{sx:{display:"flex",flexDirection:v?"column":"row",alignItems:"center",marginLeft:v?0:"auto",padding:2},children:(0,o.jsx)(n.Z,{variant:"outlined",value:b,onChange:e=>{j(e.target.value),_(e.target.value),console.log(e.target.value)},label:"Buscar",sx:{width:350,heigth:50}})})]})}),(0,o.jsx)(u.Z,{size:12,sx:{flexGrow:1,marginBottom:2},children:(0,o.jsx)(r.Z,{sx:{width:"100%",heigth:v?500:750},children:(0,o.jsx)(h._,{rows:a,columns:[{field:"PKId",headerName:"No",width:80},{field:"fechaFormateada",headerName:"Fecha",width:150},{field:"NitC",headerName:"NIT",width:150},{field:"nombreC",headerName:"Nombre o Razon Social",width:400},{field:"actions",headerName:"",width:70,renderCell:e=>(0,o.jsx)(l.Z,{onClick:()=>P(e.row),"aria-label":"cancel",color:"error",sx:{fontSize:40},children:(0,o.jsx)(d.Z,{})})}],getRowId:e=>e.PKId,initialState:{pagination:{paginationModel:{pageSize:10}}},pageSizeOptions:[10],onRowDoubleClick:e=>k(e.row)})})})]}),(0,o.jsx)(s.Z,{open:e,onClose:z,BackdropProps:{onClick:e=>e.stopPropagation()},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,o.jsx)(r.Z,{sx:m,children:(0,o.jsx)(x.default,{pedido:I,handleClose:z})})})]})}}},function(e){e.O(0,[9461,2505,5148,8965,3083,1092,6934,2398,8242,7703,5701,2971,7023,1744],function(){return e(e.s=4374)}),_N_E=e.O()}]);