(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4041],{82555:(e,a,t)=>{Promise.resolve().then(t.bind(t,18386))},18386:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>f});var r=t(95155),i=t(23165),o=t(2572),d=t(2241),l=t(19293),s=t(6283),n=t(51991),h=t(30251),c=t(12115),m=t(48097),u=t(8889);let f=()=>{let[e,a]=(0,c.useState)([]),[t,f]=(0,c.useState)([]),[g,w]=(0,c.useState)([]),x=(0,i.A)("(max-width: 600px)");(0,c.useEffect)(()=>{(async()=>{try{let e=await (0,s.Xv)();if(navigator.onLine){let t=await fetch(u.m.url+"/articles/articles/inventario",{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Error en la solicitud: ".concat(t.status));let r=await t.json();for(let t of(a(r.data),w(r.data),r.data))await e.get("articles",t.PKcodigo)||await e.add("articles",t);console.log("Datos guardados en IndexedDB y Datos cargados desde la API")}else{let t=await e.getAll("articles");a(t),w(t),console.log("Datos cargados desde IndexedDB")}}catch(e){console.log("Error al obtener los datos",e)}})()},[]);let p=e=>{a(g.filter(a=>Object.values(a).map(e=>e?e.toString().toLowerCase():"").some(a=>a.includes(e.toLowerCase()))))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.A,{}),(0,r.jsxs)(m.A,{container:!0,direction:"column",sx:{minHeight:"100vh",backfroundColor:"#ffffff",padding:2},children:[(0,r.jsxs)(m.A,{size:12,children:[(0,r.jsx)(o.A,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:(0,r.jsx)("h2",{children:(0,r.jsx)("strong",{children:"LISTADO DE ARTICULO"})})}),(0,r.jsx)(d.A,{})]}),(0,r.jsx)(m.A,{size:12,sx:{padding:2},children:(0,r.jsx)(l.A,{id:"outlined-basic",label:"Digite Codigo o Referencia para Buscar",multiline:!0,rows:1,variant:"outlined",value:t,onChange:e=>{e.preventDefault(),f(e.target.value),p(e.target.value)},sx:{width:"100%",marginBottom:2}})}),(0,r.jsx)(m.A,{size:12,sx:{flexGrow:1,marginBottom:2},children:(0,r.jsx)(o.A,{sx:{width:"100%",height:x?500:1170},children:(0,r.jsx)(h.z,{rows:e,columns:[{field:"PKcodigo",headerName:"COD",width:100,headerClassName:"header-bold"},{field:"Nombre",headerName:"REFERENCIA",width:400,headerClassName:"header-bold"},{field:"Sublinea",headerName:"SUBLINEA",width:200,headerClassName:"header-bold"},{field:"Unidad_Empaque",headerName:"EMP",width:80,headerClassName:"header-bold"},{field:"Precio",headerName:"PRECIO",width:90,headerClassName:"header-bold",valueFormatter:e=>{let a=parseFloat(e).toFixed(0);return"$".concat(parseFloat(a).toLocaleString("es-ES"))}},{field:"Iva",headerName:"IVA",width:80,headerClassName:"header-bold"},{field:"Descuento",headerName:"DES",width:90,headerClassName:"header-bold"},{field:"Precio_Neto",headerName:"NETO",width:80,headerClassName:"header-bold",valueFormatter:e=>{let a=parseFloat(e).toFixed(0);return"$".concat(parseFloat(a).toLocaleString("es-ES"))}},{field:"Disp",headerName:"DISP",width:80,headerClassName:"header-bold",valueFormatter:e=>{let a=parseFloat(e).toFixed(0);return"$".concat(parseFloat(a).toLocaleString("es-ES"))}}],getRowId:e=>e.PKcodigo,initialState:{pagination:{paginationModel:{pageSize:20}}},pageSizeOptions:[20],sx:{"&.MuiDataGrid-columnHeader":{fontSize:x?"0.75rem":"1rem"},"&.MuiDataGrid-cell":{fontSize:x?"0.75rem":"0.875rem"}}})})})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[8320,3509,4017,4269,5065,251,1647,1991,8441,1517,7358],()=>a(82555)),_N_E=e.O()}]);