(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3811],{52733:function(e,i,t){Promise.resolve().then(t.bind(t,48480))},50282:function(e,i,t){"use strict";var r=t(94630),s=t(57437);i.Z=(0,r.Z)((0,s.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment")},74853:function(e,i,t){"use strict";var r=t(94630),s=t(57437);i.Z=(0,r.Z)((0,s.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel")},29821:function(e,i,t){"use strict";var r=t(94630),s=t(57437);i.Z=(0,r.Z)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},8430:function(e,i,t){"use strict";var r=t(94630),s=t(57437);i.Z=(0,r.Z)((0,s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},91360:function(e,i,t){"use strict";var r=t(94630),s=t(57437);i.Z=(0,r.Z)((0,s.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email")},19643:function(e,i,t){"use strict";t.d(i,{Z:function(){return w}});var r=t(2265),s=t(61994),a=t(87354),o=t(50738),n=t(20801),l=t(9084),d=t(94873),c=t(95086),x=t(88662),h=t(27880),u=t(46380),m=t(57437);let p=(0,x.Z)(),f=(0,l.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,i)=>i.root});function j(e){return(0,d.Z)({props:e,name:"MuiStack",defaultTheme:p})}let Z=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],C=({ownerState:e,theme:i})=>{let t={display:"flex",flexDirection:"column",...(0,h.k9)({theme:i},(0,h.P$)({values:e.direction,breakpoints:i.breakpoints.values}),e=>({flexDirection:e}))};if(e.spacing){let r=(0,u.hB)(i),s=Object.keys(i.breakpoints.values).reduce((i,t)=>(("object"==typeof e.spacing&&null!=e.spacing[t]||"object"==typeof e.direction&&null!=e.direction[t])&&(i[t]=!0),i),{}),o=(0,h.P$)({values:e.direction,base:s}),n=(0,h.P$)({values:e.spacing,base:s});"object"==typeof o&&Object.keys(o).forEach((e,i,t)=>{if(!o[e]){let r=i>0?o[t[i-1]]:"column";o[e]=r}}),t=(0,a.Z)(t,(0,h.k9)({theme:i},n,(i,t)=>e.useFlexGap?{gap:(0,u.NA)(r,i)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Z(t?o[t]:e.direction)}`]:(0,u.NA)(r,i)}}))}return(0,h.dt)(i.breakpoints,t)};var g=t(16210),b=t(50117),w=function(e={}){let{createStyledComponent:i=f,useThemeProps:t=j,componentName:a="MuiStack"}=e,l=()=>(0,n.Z)({root:["root"]},e=>(0,o.ZP)(a,e),{}),d=i(C);return r.forwardRef(function(e,i){let a=t(e),{component:o="div",direction:n="column",spacing:x=0,divider:h,children:u,className:p,useFlexGap:f=!1,...j}=(0,c.Z)(a),Z=l();return(0,m.jsx)(d,{as:o,ownerState:{direction:n,spacing:x,useFlexGap:f},ref:i,className:(0,s.Z)(Z.root,p),...j,children:h?function(e,i){let t=r.Children.toArray(e).filter(Boolean);return t.reduce((e,s,a)=>(e.push(s),a<t.length-1&&e.push(r.cloneElement(i,{key:`separator-${a}`})),e),[])}(u,h):u})})}({createStyledComponent:(0,g.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,i)=>i.root}),useThemeProps:e=>(0,b.i)({props:e,name:"MuiStack"})})},48480:function(e,i,t){"use strict";t.r(i);var r=t(57437),s=t(70899),a=t(2069),o=t(77584),n=t(58004),l=t(8350),d=t(46387),c=t(19643),x=t(94013),h=t(59832),u=t(73986),m=t(15735),p=t(87222),f=t(5774),j=t(29821),Z=t(50282),C=t(42581),g=t(74853),b=t(8430),w=t(91360),v=t(98730),y=t(10932),N=t(93769),S=t(2265),z=t(42569),k=t(41698),E=t(29239),R=t(27648);i.default=()=>{let{auth:e,setClienteV:i}=(0,y.a)(),[t,D]=(0,S.useState)(!1),[I,O]=(0,S.useState)(!1),[A,T]=(0,S.useState)(!1),[M,P]=(0,S.useState)(!1),[L,H]=(0,S.useState)([]),[V,F]=(0,S.useState)([]),[B,_]=(0,S.useState)(""),[$,W]=(0,S.useState)([]),[G,K]=(0,S.useState)([]),[U,Y]=(0,S.useState)(G?G.Email:""),J=(0,s.Z)("(max-width: 600px)"),q=()=>{O(!1)},Q=e=>{let t=V.find(i=>i.NIT===e.Cliente);t&&(K(t),Y(t.Email),D(!0),i(t))},X=()=>{K(null),D(!1)};(0,S.useEffect)(()=>{(async()=>{try{let e=await (0,z.zK)(),i=await e.getAll("cartera");i&&(H(i),W(i))}catch(e){}})()},[]);let ee=e=>{H($.filter(i=>Object.values(i).map(e=>e?e.toString().toLowerCase():"").some(i=>i.includes(e.toLowerCase()))))};(0,S.useEffect)(()=>{(async()=>{try{let e=await (0,z.zK)(),i=await e.getAll("customers");i&&F(i)}catch(e){}})()},[]);let ei=async()=>{let e={Nit:G.NIT,Email:U};try{let i=await fetch(k.x.url+"/customers/updatemail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(i.ok){q(),X(),P(!0);let e=await i.json();Swal.fire({position:"top-end",icon:"success",title:"Email Actualizado con Exito!.",text:"".concat(e.text),showConfirmButton:!1,timer:2500})}else Swal.fire({icon:"error",title:"Oops...!",text:"Error al Actualizar el Email."})}catch(e){T(!0),Swal.fire({icon:"error",title:"Error en la Red",text:"No se pudo Actualizar el Correo debido a un Problema de Red."})}},et=e=>{"clicaway"!==e&&(P(!1),T(!1))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.Z,{}),(0,r.jsxs)(E.Z,{container:!0,direction:"column",sx:{minHeight:"100vh",backfroundColor:"#ffffff",padding:2},children:[(0,r.jsx)(E.Z,{size:12,children:(0,r.jsxs)(a.Z,{sx:{display:"flex",flexDirection:J?"column":"row",alignItems:"center"},children:[(0,r.jsx)("h2",{children:(0,r.jsx)("strong",{children:"CARTERA CLIENTES"})}),(0,r.jsx)(a.Z,{sx:{display:"flex",flexDirection:J?"column":"row",alignItems:"center",marginLeft:J?0:"auto",padding:2},children:(0,r.jsx)(o.Z,{id:"outlined-basic",label:"Buscar...",variant:"outlined",value:B,onChange:e=>{e.preventDefault(),_(e.target.value),ee(e.target.value)},sx:{width:J?300:500}})})]})}),(0,r.jsx)(E.Z,{size:12,sx:{flexGrow:1,marginBottom:2},children:(0,r.jsx)(a.Z,{sx:{width:"100%",height:J?800:1170},children:(0,r.jsx)(N._,{rows:L,columns:[{field:"Cliente",headerName:"NIT",width:150,headerClassName:"header-bold"},{field:"RazonSocial",headerName:"RAZON SOCIAL",width:350,headerClassName:"header-bold"},{field:"Documento",headerName:"DOCUMENTO",width:150,headerClassName:"header-bold"},{field:"TipoDocumento",headerName:"TIPO",width:80,headerClassName:"header-bold"},{field:"Monto",headerName:"MONTO",width:150,headerClassName:"header-bold"},{field:"FechaDocumento",headerName:"FECHA DOCUMENTO",width:150,headerClassName:"header-bold"},{field:"FechaVencimiento",headerName:"FECHA VENCIMIENTO",width:150,headerClassName:"header-bold"},{field:"Plazo",headerName:"PLAZO (d\xedas)",width:90,headerClassName:"header-bold"},{field:"DiasVencimiento",headerName:"D\xcdAS VENCIDOS",width:100,headerClassName:"header-bold"},{field:"Saldo",headerName:"SALDO",width:150,headerClassName:"header-bold"}],getRowId:e=>e.Documento,initialState:{pagination:{paginationModel:{pageSize:20}}},pageSizeOptions:[20],onRowClick:e=>Q(e.row)})})})]}),(0,r.jsx)(n.Z,{open:t,onClose:X,BackdropProps:{onClick:e=>e.stopPropagation()},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsxs)(a.Z,{sx:{p:4,backgroundColor:"white",borderRadius:"8px",maxWidth:"750px",width:"90%",height:"70vh",overflowY:"auto",margin:"auto",mt:4,p:2},children:[G&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{children:(0,r.jsx)("strong",{style:{fontSize:20,color:"#1be0e7"},children:G.RazonSocial})}),(0,r.jsx)(l.Z,{}),(0,r.jsxs)(E.Z,{container:!0,rowSpacing:1.5,columnSpacing:{xs:1,sm:2,md:3},sx:{p:1},children:[(0,r.jsxs)(E.Z,{size:{xs:9,sm:6,md:3},children:[(0,r.jsx)("strong",{children:"NIT"}),(0,r.jsx)(d.Z,{sx:{mb:1.5,display:"flex"},children:G.NIT})]}),(0,r.jsxs)(E.Z,{size:{xs:9,sm:6,md:3},children:[(0,r.jsx)("strong",{children:"Cupo"}),(0,r.jsx)(d.Z,{sx:{mb:1.5,display:"flex"},children:G.CupoCreditoCliente})]}),(0,r.jsxs)(E.Z,{size:{xs:9,sm:6,md:3},children:[(0,r.jsx)("strong",{children:"Debe"}),(0,r.jsx)(d.Z,{sx:{mb:1.5,display:"flex",color:"#f01212"},children:G.TotalCartera})]}),(0,r.jsxs)(E.Z,{size:{xs:9,sm:6,md:3},children:[(0,r.jsx)("strong",{children:"Tel\xe9fono"}),(0,r.jsx)(d.Z,{sx:{mb:1.5,display:"flex"},children:G.Telefono})]}),(0,r.jsxs)(E.Z,{size:{xs:9,sm:6,md:3},children:[(0,r.jsx)("strong",{children:"Celular"}),(0,r.jsx)(d.Z,{sx:{mb:1.5,display:"flex"},children:G.Celular})]}),(0,r.jsxs)(E.Z,{size:{xs:9,sm:6,md:3},children:[(0,r.jsx)("strong",{children:"Fax"}),(0,r.jsx)(d.Z,{sx:{mb:1.5,display:"flex"},children:G.Fax})]}),(0,r.jsxs)(E.Z,{size:{xs:6,sm:4,md:3},children:[(0,r.jsx)("strong",{children:"Direcci\xf3n"}),(0,r.jsx)(d.Z,{sx:{mb:1.5,display:"flex"},children:G.Direccion})]}),(0,r.jsxs)(E.Z,{size:{xs:9,sm:6,md:3},children:[(0,r.jsx)("strong",{children:"Ciudad"}),(0,r.jsx)(d.Z,{sx:{mb:1.5,display:"flex"},children:G.CityName})]}),(0,r.jsxs)(E.Z,{size:{xs:9,sm:6,md:3},children:[(0,r.jsx)("strong",{children:"Departamento"}),(0,r.jsx)(d.Z,{sx:{mb:1.5,display:"flex"},children:G.DepartmentName})]}),(0,r.jsxs)(E.Z,{size:{xs:18,sm:12,md:6},children:[(0,r.jsx)("strong",{children:"Email"}),(0,r.jsx)(d.Z,{sx:{mb:1.5,display:"flex"},children:G.Email})]})]}),(0,r.jsx)(o.Z,{id:"outlined-basic",multiline:!0,rows:3,defaultValue:G.Comentarios,variant:"outlined",sx:{width:"100%",border:"2px solid #1be0e7"}})]}),(0,r.jsx)(l.Z,{sx:{margin:2}}),(0,r.jsxs)(c.Z,{direction:"row",spacing:2,sx:{flexWrap:"wrap",justifyContent:"center",p:2},children:[(0,r.jsx)(x.Z,{variant:"outlined",startIcon:(0,r.jsx)(Z.Z,{}),sx:{color:"#29e5ad",margin:"5px"},component:R.default,href:"./client/pedidos",children:"Pedidos"}),(0,r.jsx)(x.Z,{variant:"outlined",startIcon:(0,r.jsx)(p.Z,{}),sx:{color:"#e52990",margin:"5px"},component:R.default,href:"./client/rutero",children:"Realizar Rutero"}),(0,r.jsx)(x.Z,{variant:"outlined",startIcon:(0,r.jsx)(Z.Z,{}),sx:{color:"#f07d30",margin:"5px"},LinkComponent:R.default,href:"./client/cotizacion",children:"Cotizaci\xf3n"}),(0,r.jsx)(x.Z,{variant:"outlined",startIcon:(0,r.jsx)(C.Z,{}),sx:{margin:"5px"},color:"secondary",component:R.default,href:"./client/recibo",children:"Ver Recibos"}),(0,r.jsx)(x.Z,{variant:"outlined",startIcon:(0,r.jsx)(w.Z,{}),sx:{margin:"5px"},color:"success",onClick:()=>{O(!0)},children:"Actualizar Correo"}),(0,r.jsx)(x.Z,{variant:"outlined",startIcon:(0,r.jsx)(f.Z,{}),sx:{color:"#2948e5",margin:"5px"},LinkComponent:R.default,href:"./client/crearRecibo",children:"Realizar Recibo"}),(0,r.jsx)(x.Z,{variant:"contained",startIcon:(0,r.jsx)(b.Z,{}),sx:{margin:"5px"},color:"error",onClick:X,children:"Cerrar"})]})]})}),(0,r.jsx)(n.Z,{open:I,onClose:q,BackdropProps:{onClick:e=>e.stopPropagation()},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsxs)(a.Z,{sx:{p:2,backgroundColor:"white",borderRadius:"8px",maxWidth:"555px",width:"90%",height:"35vh",overflowY:"auto",margin:"auto",mt:2},children:[(0,r.jsx)("h3",{children:"Actualizar Correo Electr\xf3nico"}),(0,r.jsx)(l.Z,{}),(0,r.jsx)("h3",{children:G&&G.RazonSocial}),(0,r.jsx)("h3",{children:"EMAIL: "}),(0,r.jsx)(o.Z,{label:"Correo Electr\xf3nico",variant:"outlined",fullWidth:!0,margin:"normal",value:U,onChange:e=>Y(e.target.value)}),(0,r.jsx)(l.Z,{}),(0,r.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:[(0,r.jsx)(h.Z,{color:"success",onClick:ei,children:(0,r.jsx)(j.Z,{sx:{fontSize:40}})}),(0,r.jsx)(h.Z,{color:"error",onClick:q,children:(0,r.jsx)(g.Z,{sx:{fontSize:40}})})]})]})}),M?(0,r.jsx)(u.Z,{open:M,autoHideDuration:6e3,onClose:et,children:(0,r.jsx)(m.Z,{onClose:et,severity:"success",sx:{width:"100%"},children:"Correo actualizado con \xe9xito"})}):"",A?(0,r.jsx)(u.Z,{open:A,autoHideDuration:6e3,onClose:et,children:(0,r.jsx)(m.Z,{onClose:et,severity:"error",sx:{width:"100%"},children:"Hubo un error al actualizar el correo"})}):""]})}}},function(e){e.O(0,[9461,173,7584,5615,1238,3840,3683,3859,8730,2971,2117,1744],function(){return e(e.s=52733)}),_N_E=e.O()}]);