(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7930],{45385:function(e,a,s){Promise.resolve().then(s.bind(s,2598))},2598:function(e,a,s){"use strict";s.r(a);var i=s(57437),n=s(16210),r=s(70899),t=s(2069),l=s(77584),o=s(58004),d=s(8350),c=s(22095),h=s(53410),m=s(70208),x=s(32281),u=s(54301),j=s(59469),N=s(94013),C=s(52988),g=s(83476),f=s(98730),p=s(10932),Z=s(93769),w=s(2265),b=s(29239),S=s(41698);let E=(0,n.ZP)(C.Z)(e=>{let{theme:a}=e;return{["&.".concat(g.Z.head)]:{backgroundColor:a.palette.common.black,color:a.palette.common.white},["&.".concat(g.Z.body)]:{fontSize:14}}}),I=[{field:"ID",headerName:"ID CONSIGNACI\xd3N",width:150,headerClassName:"header-bold"},{field:"BankName",headerName:"BANCO",width:400,headerClassName:"header-bold"},{field:"ConsignmentNumber",headerName:"NUMERO DE CONSIGNACI\xd3N",width:250,headerClassName:"header-bold"},{field:"UserFullName",headerName:"ELABORADA POR",width:150,headerClassName:"header-bold"},{field:"Date",headerName:"FECHA",width:180,headerClassName:"header-bold"},{field:"Ammount",headerName:"TOTAL CONSIGNACI\xd3N",width:170,headerClassName:"header-bold"}];a.default=()=>{let{auth:e}=(0,p.a)(),[a,s]=(0,w.useState)([]),[n,g]=(0,w.useState)(!1),[A,O]=(0,w.useState)([]),[k,D]=(0,w.useState)(""),[y,z]=(0,w.useState)([]),[v,R]=(0,w.useState)([]),T=(0,r.Z)("(max-width: 600px)"),F=async a=>{R(a),g(!0);try{let s=await fetch(S.x.url+"/receipts/consult/ConsignmentDetail?ID=".concat(e.IDSaler,"&data=").concat(a.ID),{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok)throw Error("Error en la solicitud: ".concat(s.status));let i=await s.json();O(i)}catch(e){}},B=()=>{R(null),g(!1)};(0,w.useEffect)(()=>{(async()=>{try{let a=await fetch(S.x.url+"/consignments/list",{method:"GET",headers:{"Content-Type":"application/json"}});if(!a.ok)throw Error("Error en la solicitud: ".concat(a.status));let i=(await a.json()).filter(a=>a.UserFullName===e.UserFullName);s(i),z(i)}catch(e){}})()},[]);let G=e=>{s(y.filter(a=>Object.values(a).map(e=>e?e.toString().toLowerCase():"").some(a=>a.includes(e.toLowerCase()))))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.Z,{}),(0,i.jsxs)(b.Z,{container:!0,direction:"column",sx:{minHeight:"100vh",backfroundColor:"#ffffff",padding:2},children:[(0,i.jsx)(b.Z,{size:12,children:(0,i.jsxs)(t.Z,{sx:{display:"flex",flexDirection:T?"column":"row",alignItems:"center"},children:[(0,i.jsx)("h2",{children:(0,i.jsx)("strong",{children:"CONSIGNACIONES"})}),(0,i.jsx)(t.Z,{sx:{display:"flex",flexDirection:T?"column":"row",alignItems:"center",marginLeft:T?0:"auto",padding:2},children:(0,i.jsx)(l.Z,{id:"outlined-basic",label:"Buscar...",multiline:!0,rows:1,variant:"outlined",value:k,onChange:e=>{D(e.target.value),G(e.target.value)},sx:{width:T?300:400}})})]})}),(0,i.jsx)(b.Z,{size:12,sx:{flexGrow:1,marginBottom:2},children:(0,i.jsx)(t.Z,{sx:{width:"100%",height:T?500:755},children:(0,i.jsx)(Z._,{rows:a,columns:I,getRowId:e=>e.ID,initialState:{pagination:{paginationModel:{pageSize:20}}},pageSizeOptions:[20],onRowClick:e=>F(e.row)})})})]}),(0,i.jsx)(o.Z,{open:n,onClose:B,BackdropProps:{onClick:e=>e.stopPropagation()},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,i.jsxs)(t.Z,{sx:{p:4,backgroundColor:"white",borderRadius:"8px",maxWidth:"850px",height:"90%",height:"50vh",overflowY:"auto",margin:"auto",mt:4,p:2},children:[(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("strong",{children:"DETALLE DE CONSIGNACI\xd3N"}),(0,i.jsx)(d.Z,{}),v&&(0,i.jsxs)(b.Z,{container:!0,rowSpacing:1.5,columnSpacing:{xs:1,sm:2,md:3},sx:{p:1},children:[(0,i.jsxs)(b.Z,{size:{xs:10,sm:8,md:6},children:[(0,i.jsx)("strong",{children:"Banco: "}),v.BankName]}),(0,i.jsxs)(b.Z,{size:{xs:10,sm:8,md:6},children:[(0,i.jsx)("strong",{children:"Numero de Consignaci\xf3n: "}),v.ConsignmentNumber]}),(0,i.jsxs)(b.Z,{size:{xs:8,sm:6,md:4},children:[(0,i.jsx)("strong",{children:"Fecha: "}),v.Date]}),(0,i.jsxs)(b.Z,{size:{xs:8,sm:6,md:4},children:[(0,i.jsx)("strong",{children:"Elaborada Por: "}),v.UserFullName]}),(0,i.jsxs)(b.Z,{size:{xs:8,sm:6,md:4},children:[(0,i.jsx)("strong",{children:"Total Consignaci\xf3n: "}),v.Ammount]})]}),v&&(0,i.jsx)(l.Z,{id:"outlined-basic",multiline:!0,rows:2,defaultValue:v.Comentarios,variant:"outlined",label:"Comentarios",sx:{width:"100%",mb:2}})]}),(0,i.jsx)(c.Z,{component:h.Z,children:(0,i.jsxs)(m.Z,{sx:{width:"100%",heigth:"auto"},size:"small","aria-label":"simple table",children:[(0,i.jsx)(x.Z,{children:(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(E,{children:"N\xb0 Recibo"}),(0,i.jsx)(E,{children:"Nit"}),(0,i.jsx)(E,{children:"Raz\xf3n Social"}),(0,i.jsx)(E,{children:"Fecha Recibo"}),(0,i.jsx)(E,{children:"Valor Recibo"}),(0,i.jsx)(E,{children:"Registrado Por"}),(0,i.jsx)(E,{children:"Estado"})]})}),(0,i.jsx)(j.Z,{children:Array.isArray(A)&&A.map(e=>(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(C.Z,{children:e.CONSECUTIVO}),(0,i.jsx)(C.Z,{children:e.NIT}),(0,i.jsx)(C.Z,{children:e.RazonSocial}),(0,i.jsx)(C.Z,{children:e.FECHA}),(0,i.jsx)(C.Z,{children:e.TOTAL}),(0,i.jsx)(C.Z,{children:e.U1}),(0,i.jsx)(C.Z,{children:e.StateName})]},e.ID))})]})}),(0,i.jsx)(t.Z,{sx:{display:"flex",justifyContent:"flex-end",margin:2},children:(0,i.jsx)(N.Z,{variant:"contained",onClick:B,children:"Cerrar"})})]})})]})}}},function(e){e.O(0,[9461,173,7584,5615,1238,3840,3683,6837,8730,2971,2117,1744],function(){return e(e.s=45385)}),_N_E=e.O()}]);