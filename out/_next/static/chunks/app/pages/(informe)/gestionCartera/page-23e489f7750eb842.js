(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7254],{78860:function(e,a,i){Promise.resolve().then(i.bind(i,59731))},59731:function(e,a,i){"use strict";i.r(a);var s=i(57437),r=i(79647),t=i(17156),o=i(74275),d=i(37241),l=i(48965),n=i(47703),c=i(85800),h=i(2265),x=i(86934),m=i(80219),u=i(89967);a.default=()=>{let{auth:e}=(0,c.a)(),[a,i]=(0,h.useState)(!1),[g,p]=(0,h.useState)([]),[f,j]=(0,h.useState)(""),[w,b]=(0,h.useState)([]),[C,N]=(0,h.useState)(null),Z=(0,r.Z)("(max-width: 600px)");(0,h.useEffect)(()=>{(async()=>{try{let a=await fetch(u.x.url+"/gestioncartera/".concat(e.IDSaler),{method:"GET",headers:{"Content-Type":"application/json"}});if(!a.ok)throw Error("Error en la solicitud: ".concat(a.status));let i=await a.json();p(i.data),N(i.data),b(i.data)}catch(e){console.log("Error al obtener datos",e)}})()},[]);let S=e=>{N(e),i(!0)},z=e=>{p(w.filter(a=>Object.values(a).map(e=>e?e.toString().toLowerCase():"").some(a=>a.includes(e.toLowerCase()))))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Z,{}),(0,s.jsxs)(m.Z,{container:!0,direction:"column",sx:{minHeight:"100vh",backfroundColor:"#ffffff",padding:2},children:[(0,s.jsx)(m.Z,{size:12,children:(0,s.jsxs)(t.Z,{sx:{display:"flex",flexDirection:Z?"column":"row",alignItems:"center"},children:[(0,s.jsx)("h2",{children:(0,s.jsx)("strong",{children:"RUTERO Y GESTI\xd3N DE CARTERA"})}),(0,s.jsx)(t.Z,{sx:{display:"flex",flexDirection:Z?"column":"row",alignItems:"center",marginLeft:Z?0:"auto",padding:2},children:(0,s.jsx)(o.ZP,{type:"text",value:f,onChange:e=>{j(e.target.value),z(e.target.value)},placeholder:"Buscar...",sx:{width:Z?300:400,border:"2px solid black"}})})]})}),(0,s.jsx)(m.Z,{size:12,sx:{flexGrow:1,marginBottom:2},children:(0,s.jsx)(t.Z,{sx:{width:"100%",height:Z?500:755},children:(0,s.jsx)(x._,{rows:g,columns:[{field:"Fecha_realizacion",headerName:"FECHA",width:200,headerClassName:"header-bold"},{field:"Hora",headerName:"HORA",width:150,headerClassName:"header-bold"},{field:"FKNitCliente",headerName:"NIT",width:150,headerClassName:"header-bold"},{field:"RazonSocial",headerName:"NOMBRE",width:500,headerClassName:"header-bold"},{field:"Agenda",headerName:"AGENDADOS",width:150,headerClassName:"header-bold"}],getRowId:e=>e.PKid,initialState:{pagination:{paginationModel:{page:0,pageSize:12}}},pageSizeOptions:[12],onRowClick:e=>S(e.row)})})})]}),(0,s.jsx)(d.Z,{open:a,onClose:()=>{i(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,s.jsx)(t.Z,{sx:{p:4,backgroundColor:"white",borderRadius:"8px",maxWidth:"650px",width:"90%",height:"50vh",overflowY:"auto",margin:"auto",mt:4,p:2},children:(0,s.jsxs)(s.Fragment,{children:[C&&(0,s.jsxs)(m.Z,{container:!0,rowSpacing:1.5,columnSpacing:{xs:1,sm:2,md:3},sx:{p:1},children:[(0,s.jsxs)(m.Z,{size:{xs:36,sm:24,md:12},children:[(0,s.jsx)("strong",{children:"Raz\xf3n Social: "}),C.RazonSocial]}),(0,s.jsxs)(m.Z,{size:{xs:18,sm:12,md:6},children:[(0,s.jsx)("strong",{children:"Realizada Por: "}),C.FKUsuario]}),(0,s.jsxs)(m.Z,{size:{xs:18,sm:12,md:6},children:[(0,s.jsx)("strong",{children:"Tipo Gesti\xf3n: "}),C.Tipo]}),(0,s.jsxs)(m.Z,{size:{xs:18,sm:12,md:6},children:[(0,s.jsx)("strong",{children:"\xbfRealiza Pedido? "}),C.Realiza_pedido]}),(0,s.jsxs)(m.Z,{size:{xs:18,sm:12,md:6},children:[(0,s.jsx)("strong",{children:"\xbfCobr\xf3? "}),C.Cobro]})]}),C&&(0,s.jsx)(l.Z,{id:"outlined-basic",multiline:!0,rows:3,defaultValue:C.Comentario,variant:"outlined",sx:{width:"100%",border:"2px solid #1be0e7"}})]})})})]})}}},function(e){e.O(0,[9461,5148,8965,3083,1092,6934,2398,7703,2971,7023,1744],function(){return e(e.s=78860)}),_N_E=e.O()}]);