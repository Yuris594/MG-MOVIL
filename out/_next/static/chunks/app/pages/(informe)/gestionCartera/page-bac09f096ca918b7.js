(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7254],{42630:function(e,a,i){Promise.resolve().then(i.bind(i,75860))},75860:function(e,a,i){"use strict";i.r(a);var s=i(57437),r=i(70899),t=i(2069),l=i(77584),o=i(58004),d=i(98730),n=i(10932),c=i(2265),h=i(93769),x=i(29239),m=i(41698);a.default=()=>{let{auth:e}=(0,n.a)(""),[a,i]=(0,c.useState)(!1),[u,g]=(0,c.useState)([]),[p,f]=(0,c.useState)(""),[j,w]=(0,c.useState)([]),[b,C]=(0,c.useState)(null),S=(0,r.Z)("(max-width: 600px)");(0,c.useEffect)(()=>{let a=async()=>{try{let a=await fetch(m.x.url+"/gestioncartera/".concat(e.IDSaler),{method:"GET",headers:{"Content-Type":"application/json"}});if(!a.ok)throw Error("Error en la solicitud: ".concat(a.status));let i=await a.json();g(i.data),C(i.data),w(i.data)}catch(e){console.log("Error al obtener datos",e)}};(null==e?void 0:e.IDSaler)&&a()},[null==e?void 0:e.IDSaler]);let N=e=>{C(e),i(!0)},Z=e=>{g(j.filter(a=>Object.values(a).map(e=>e?e.toString().toLowerCase():"").some(a=>a.includes(e.toLowerCase()))))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{}),(0,s.jsxs)(x.Z,{container:!0,direction:"column",sx:{minHeight:"100vh",backfroundColor:"#ffffff",padding:2},children:[(0,s.jsx)(x.Z,{size:12,children:(0,s.jsxs)(t.Z,{sx:{display:"flex",flexDirection:S?"column":"row",alignItems:"center"},children:[(0,s.jsx)("h2",{children:(0,s.jsx)("strong",{children:"RUTERO Y GESTI\xd3N DE CARTERA"})}),(0,s.jsx)(t.Z,{sx:{display:"flex",flexDirection:S?"column":"row",alignItems:"center",marginLeft:S?0:"auto",padding:2},children:(0,s.jsx)(l.Z,{id:"outlined-basic",type:"text",value:p,onChange:e=>{f(e.target.value),Z(e.target.value)},placeholder:"Buscar...",sx:{width:S?300:400}})})]})}),(0,s.jsx)(x.Z,{size:12,sx:{flexGrow:1,marginBottom:2},children:(0,s.jsx)(t.Z,{sx:{width:"100%",height:S?500:755},children:(0,s.jsx)(h._,{rows:u,columns:[{field:"Fecha_realizacion",headerName:"FECHA",width:200,headerClassName:"header-bold"},{field:"Hora",headerName:"HORA",width:150,headerClassName:"header-bold"},{field:"FKNitCliente",headerName:"NIT",width:150,headerClassName:"header-bold"},{field:"RazonSocial",headerName:"NOMBRE",width:500,headerClassName:"header-bold"},{field:"Agenda",headerName:"AGENDADOS",width:150,headerClassName:"header-bold"}],getRowId:e=>e.PKid,initialState:{pagination:{paginationModel:{page:0,pageSize:12}}},pageSizeOptions:[12],onRowClick:e=>N(e.row)})})})]}),(0,s.jsx)(o.Z,{open:a,onClose:()=>{i(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,s.jsx)(t.Z,{sx:{p:4,backgroundColor:"white",borderRadius:"8px",maxWidth:"650px",width:"90%",height:"40vh",overflowY:"auto",margin:"auto",mt:4,p:2},children:(0,s.jsxs)(s.Fragment,{children:[b&&(0,s.jsxs)(x.Z,{container:!0,rowSpacing:1.5,columnSpacing:{xs:1,sm:2,md:3},sx:{p:1},children:[(0,s.jsxs)(x.Z,{size:{xs:36,sm:24,md:12},children:[(0,s.jsx)("strong",{children:"Raz\xf3n Social: "}),b.RazonSocial]}),(0,s.jsxs)(x.Z,{size:{xs:18,sm:12,md:6},children:[(0,s.jsx)("strong",{children:"Realizada Por: "}),b.FKUsuario]}),(0,s.jsxs)(x.Z,{size:{xs:18,sm:12,md:6},children:[(0,s.jsx)("strong",{children:"Tipo Gesti\xf3n: "}),b.Tipo]}),(0,s.jsxs)(x.Z,{size:{xs:18,sm:12,md:6},children:[(0,s.jsx)("strong",{children:"\xbfRealiza Pedido? "}),b.Realiza_pedido]}),(0,s.jsxs)(x.Z,{size:{xs:18,sm:12,md:6},children:[(0,s.jsx)("strong",{children:"\xbfCobr\xf3? "}),b.Cobro]})]}),b&&(0,s.jsx)(l.Z,{id:"outlined-basic",multiline:!0,rows:3,defaultValue:b.Comentario,variant:"outlined",sx:{width:"100%",border:"2px solid #1be0e7"}})]})})})]})}}},function(e){e.O(0,[9461,173,3615,5615,9909,3840,3683,8730,2971,2117,1744],function(){return e(e.s=42630)}),_N_E=e.O()}]);