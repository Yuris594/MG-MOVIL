(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9372],{98286:(e,a,t)=>{Promise.resolve().then(t.bind(t,50953))},50953:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>g});var l=t(95155),o=t(23165),r=t(894),i=t(2572),d=t(19293),s=t(92608),n=t(52035),c=t(51991),h=t(30251),m=t(48097),p=t(12115),u=t(91620),x=t(70689);let f={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxHeight:"90vh",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,overflow:"auto",p:4},g=()=>{let[e,a]=(0,p.useState)(!1),[t,g]=(0,p.useState)([]),{clienteV:w,setPedidosV:N}=(0,x.A)(),[b,S]=(0,p.useState)([]),[C,j]=(0,p.useState)([]),[A,I]=(0,p.useState)(null),k=(0,o.A)("(max-width: 600px)"),v=e=>{I(e),a(!0)},O=()=>{a(!1)};(0,p.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("pedidos"))||[];e.filter(e=>e.NitC===w.NIT);let a=e.map(e=>({...e,fechaFormateada:E(e.Fecha)}));g(a),N(a),j(a)},[N,w.NIT]);let E=e=>{let a=new Date(e),t=a.getDate().toString().padStart(2,"0"),l=(a.getMonth()+1).toString().padStart(2,"0"),o=a.getFullYear();return"".concat(l,"/").concat(t,"/").concat(o)},D=[{field:"pkid",headerName:"No",width:80,headerClassName:"header-bold"},{field:"fechaFormateada",headerName:"FECHA",width:150,headerClassName:"header-bold"},{field:"NitC",headerName:"NIT",width:150,headerClassName:"header-bold"},{field:"nombreC",headerName:"NOMBRE O RAZON SOCIAL",width:400,headerClassName:"header-bold"},{field:"actions",headerName:"",width:70,renderCell:e=>(0,l.jsx)(r.A,{onClick:()=>z(e.row),"aria-label":"cancel",color:"error",sx:{fontSize:40},children:(0,l.jsx)(n.A,{})})}],z=e=>{let a=t.filter(a=>a.PKId!==e.PKId);localStorage.setItem("pedidos",JSON.stringify(a)),g(a),N(a)},F=e=>{g(C.filter(a=>Object.values(a).map(e=>e?e.toString().toLowerCase():"").some(a=>a.includes(e.toLowerCase()))))};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.A,{}),(0,l.jsxs)(m.A,{container:!0,direction:"column",sx:{minHeight:"100vh",backfroundColor:"#ffffff",padding:2},children:[(0,l.jsx)(m.A,{size:12,children:(0,l.jsxs)(i.A,{sx:{display:"flex",flexDirection:k?"column":"row",alignItems:"center"},children:[(0,l.jsx)("h2",{children:(0,l.jsx)("strong",{children:"PEDIDOS SIN ENVIAR"})}),(0,l.jsx)(i.A,{sx:{display:"flex",flexDirection:k?"column":"row",alignItems:"center",marginLeft:k?0:"auto",padding:2},children:(0,l.jsx)(d.A,{id:"outlined-basic",variant:"outlined",value:b,onChange:e=>{S(e.target.value),F(e.target.value),console.log(e.target.value)},placeholder:"Buscar...",sx:{width:300}})})]})}),(0,l.jsx)(m.A,{size:12,sx:{flexGrow:1,marginBottom:2},children:(0,l.jsx)(i.A,{sx:{width:"100%",heigth:k?500:750},children:(0,l.jsx)(h.z,{rows:t,columns:D,getRowId:e=>e.pkid,initialState:{pagination:{paginationModel:{pageSize:10}}},pageSizeOptions:[10],onRowDoubleClick:e=>v(e.row)})})})]}),(0,l.jsx)(s.A,{open:e,onClose:O,BackdropProps:{onClick:e=>e.stopPropagation()},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsx)(i.A,{sx:f,children:(0,l.jsx)(u.default,{pedido:A,handleClose:O})})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[8320,6121,9293,4269,6251,251,1647,1991,1620,8441,1517,7358],()=>a(98286)),_N_E=e.O()}]);