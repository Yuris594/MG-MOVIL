(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7563],{48771:function(e,t,n){Promise.resolve().then(n.bind(n,53310))},53310:function(e,t,n){"use strict";n.r(t);var i=n(57437),s=n(70899),r=n(2069),a=n(8350),l=n(77584),o=n(42187),c=n(85860),d=n(22560),x=n(94013),u=n(69250),h=n(20816),m=n(5100),j=n(3989),f=n(5256),p=n(98730),g=n(10932),Z=n(99376),C=n(29239),w=n(41698),b=n(2265),v=n(5515),y=n.n(v),N=n(71096),S=n.n(N);t.default=()=>{let e=(0,Z.useRouter)(),{clienteV:t,auth:n}=(0,g.a)(),[v,N]=(0,b.useState)(null),[k,T]=(0,b.useState)(null),[D,I]=(0,b.useState)(!1),[z,E]=(0,b.useState)(""),[_,O]=(0,b.useState)(!1),[F,P]=(0,b.useState)(""),R=(0,s.Z)("(max-width: 600px)"),A=_?"Si":"No",U=D?"Si":"No",W=async()=>{let i={Tipo:z,Comentario:F,Agenda:k?k.format("YYYY/MM/DD"):"0-0-0",FKNitCliente:t.NIT||"",FKUsuario:n.UserFullName||"USUARIOS",Hora:v?v.format("HH:mm:ss"):null,Realiza_pedido:A,Zona:t.CityName,Cobro:U,CODVENDEDOR:n.IDSaler};try{let t=await fetch(w.x.url+"/gestioncartera/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),n=await t.json();t.ok?(y().fire({position:"top-end",icon:"success",title:"Rutero Creado Correctamente",showConfirmButton:!1,timer:2500}),e.push("../gestionCartera")):y().fire({icon:"error",title:"Error",text:n.text||"No se pudo guardar el rutero. Intente de nuevo."})}catch(e){"AbortError"===e.name?y().fire({icon:"error",title:"Error",text:"La solicitud est\xe1 tardando demasiado. Intente nuevamente m\xe1s tarde."}):y().fire({icon:"error",title:"Error",text:"Ocurri\xf3 un error en la conexi\xf3n. Intente de nuevo."})}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.Z,{}),(0,i.jsxs)(r.Z,{sx:{width:R?"90%":600,margin:"0 auto",padding:2,border:"2px solid #000",p:2,mt:4},children:[(0,i.jsxs)(r.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:R?"center":"flex-start"},children:[(0,i.jsxs)(r.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,i.jsx)("strong",{children:"Nit: "}),t.NIT]}),(0,i.jsxs)(r.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,i.jsx)("strong",{children:"Raz\xf3n Social: "}),t.RazonSocial]}),(0,i.jsxs)(r.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,i.jsx)("strong",{children:"Usuario: "}),null==n?void 0:n.UserFullName]})]}),(0,i.jsx)(a.Z,{sx:{my:2}}),(0,i.jsxs)(r.Z,{sx:{maxWidth:650,margin:"0 auto",padding:2},children:[(0,i.jsxs)(C.Z,{container:!0,spacing:2,alignItems:"center",children:[(0,i.jsx)(C.Z,{size:{xs:12,sm:6},children:(0,i.jsx)(u._,{dateAdapter:j.y,children:(0,i.jsx)(m.C,{components:["TimePicker"],children:(0,i.jsx)(f.j,{label:"Hora",fullWidth:!0,value:v,onChange:e=>N(e),minTime:S()().hour(7).minute(0),maxTime:S()().hour(20).minute(0),slotProps:{textField:{variant:"outlined",fullWidth:!0}}})})})}),(0,i.jsx)(C.Z,{size:{xs:12,sm:6},children:(0,i.jsxs)(l.Z,{label:"Tipo de Gesti\xf3n",select:!0,fullWidth:!0,value:z,onChange:e=>E(e.target.value),sx:{width:250,margin:1},children:[(0,i.jsx)(o.Z,{value:"Telefonica",children:"Telef\xf3nica"}),(0,i.jsx)(o.Z,{value:"Presencial",children:"Presencial"})]})})]}),(0,i.jsxs)(C.Z,{container:!0,spacing:2,alignItems:"center",sx:{mt:2},children:[(0,i.jsx)(C.Z,{size:{xs:6,sm:3},children:(0,i.jsx)(c.Z,{control:(0,i.jsx)(d.Z,{checked:_,onChange:e=>O(e.target.checked)}),label:"\xbfHizo pedido?"})}),(0,i.jsx)(C.Z,{size:{xs:6,sm:3},children:(0,i.jsx)(c.Z,{control:(0,i.jsx)(d.Z,{checked:D,onChange:e=>I(e.target.checked)}),label:"\xbfCobr\xf3?"})}),(0,i.jsx)(C.Z,{size:{xs:12,sm:6},children:(0,i.jsx)(u._,{dateAdapter:j.y,children:(0,i.jsx)(h.M,{label:"Agendar",value:k,onChange:e=>T(e),slotProps:{textField:{variant:"outlined",fullWidth:!0}}})})})]}),(0,i.jsx)(l.Z,{label:"Comentarios",multiline:!0,rows:3,fullWidth:!0,value:F,onChange:e=>P(e.target.value),sx:{mt:2}}),(0,i.jsx)(x.Z,{variant:"contained",color:"success",onClick:W,sx:{mt:2,width:"100%"},children:"Guardar"})]})]})]})}}},function(e){e.O(0,[9461,173,7584,5615,1238,3683,8209,8730,2971,2117,1744],function(){return e(e.s=48771)}),_N_E=e.O()}]);