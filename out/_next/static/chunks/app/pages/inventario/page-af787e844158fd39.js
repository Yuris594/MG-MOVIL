(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[353],{56944:function(e,a,t){Promise.resolve().then(t.bind(t,14689))},14689:function(e,a,t){"use strict";t.r(a);var r=t(57437),i=t(70899),o=t(2069),d=t(8350),l=t(77584),s=t(42569),n=t(98730),c=t(93769),h=t(2265),u=t(29239),m=t(41698);a.default=()=>{let[e,a]=(0,h.useState)([]),[t,f]=(0,h.useState)([]),[g,x]=(0,h.useState)([]),w=(0,i.Z)("(max-width: 600px)");(0,h.useEffect)(()=>{(async()=>{try{let e=await (0,s.zK)();if(navigator.onLine){let t=await fetch(m.x.url+"/articles/articles/inventario",{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Error en la solicitud: ".concat(t.status));let r=await t.json();for(let t of(a(r.data),x(r.data),r.data))await e.get("articles",t.PKcodigo)||await e.add("articles",t);console.log("Datos guardados en IndexedDB y Datos cargados desde la API")}else{let t=await e.getAll("articles");a(t),x(t),console.log("Datos cargados desde IndexedDB")}}catch(e){console.log("Error al obtener los datos",e)}})()},[]);let p=e=>{a(g.filter(a=>Object.values(a).map(e=>e?e.toString().toLowerCase():"").some(a=>a.includes(e.toLowerCase()))))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.Z,{}),(0,r.jsxs)(u.Z,{container:!0,direction:"column",sx:{minHeight:"100vh",backgroundColor:"#ffffff",padding:2},children:[(0,r.jsxs)(u.Z,{size:12,children:[(0,r.jsx)(o.Z,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:(0,r.jsx)("h2",{children:(0,r.jsx)("strong",{children:"LISTADO DE ARTICULO"})})}),(0,r.jsx)(d.Z,{})]}),(0,r.jsx)(u.Z,{size:12,sx:{padding:2},children:(0,r.jsx)(l.Z,{id:"outlined-basic",label:"Digite Codigo o Referencia para Buscar",multiline:!0,rows:1,variant:"outlined",value:t,onChange:e=>{e.preventDefault(),f(e.target.value),p(e.target.value)},sx:{width:"100%",marginBottom:2}})}),(0,r.jsx)(u.Z,{size:12,sx:{flexGrow:1,marginBottom:2},children:(0,r.jsx)(o.Z,{sx:{width:"100%",height:w?500:1170},children:(0,r.jsx)(c._,{rows:e,columns:[{field:"PKcodigo",headerName:"COD",width:100,headerClassName:"header-bold"},{field:"Nombre",headerName:"REFERENCIA",width:400,headerClassName:"header-bold"},{field:"Sublinea",headerName:"SUBLINEA",width:200,headerClassName:"header-bold"},{field:"Unidad_Empaque",headerName:"EMP",width:80,headerClassName:"header-bold"},{field:"Precio",headerName:"PRECIO",width:90,headerClassName:"header-bold",valueFormatter:e=>{let a=parseFloat(e).toFixed(0);return"$".concat(parseFloat(a).toLocaleString("es-ES"))}},{field:"Iva",headerName:"IVA",width:80,headerClassName:"header-bold"},{field:"Descuento",headerName:"DES",width:90,headerClassName:"header-bold"},{field:"Precio_Neto",headerName:"NETO",width:80,headerClassName:"header-bold",valueFormatter:e=>{let a=parseFloat(e).toFixed(0);return"$".concat(parseFloat(a).toLocaleString("es-ES"))}},{field:"Disp",headerName:"DISP",width:80,headerClassName:"header-bold",valueFormatter:e=>{let a=parseFloat(e).toFixed(0);return"$".concat(parseFloat(a).toLocaleString("es-ES"))}}],getRowId:e=>e.PKcodigo,initialState:{pagination:{paginationModel:{pageSize:20}}},pageSizeOptions:[20],sx:{"&.MuiDataGrid-columnHeader":{fontSize:w?"0.75rem":"1rem"},"&.MuiDataGrid-cell":{fontSize:w?"0.75rem":"0.875rem"}}})})})]})]})}}},function(e){e.O(0,[9461,173,3615,5615,9909,3840,3683,8730,2971,2117,1744],function(){return e(e.s=56944)}),_N_E=e.O()}]);