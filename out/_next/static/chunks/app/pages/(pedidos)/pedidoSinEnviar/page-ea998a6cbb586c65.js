(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9372],{98286:(e,t,a)=>{Promise.resolve().then(a.bind(a,50953))},50953:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var o=a(95155),i=a(23165),l=a(894),r=a(2572),n=a(19293),d=a(92608),s=a(52035),c=a(51991),h=a(30251),u=a(48097),x=a(12115),f=a(91620),g=a(70689);let p={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxHeight:"90vh",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,overflow:"auto",p:4},m=()=>{let[e,t]=(0,x.useState)(!1),[a,m]=(0,x.useState)([]),{clienteV:w,setPedidosV:S}=(0,g.A)(),[b,N]=(0,x.useState)([]),[j,A]=(0,x.useState)([]),[C,I]=(0,x.useState)(null),v=(0,i.A)("(max-width: 600px)"),k=e=>{I(e),t(!0)},P=()=>{t(!1)};(0,x.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("pedidos"))||[];e.filter(e=>e.NitC===w.NIT);let t=e.map(e=>({...e,fechaFormateada:z(e.Fecha)}));m(t),S(t),A(t)},[S,w.NIT]);let z=e=>{let t=new Date(e),a=t.getDate().toString().padStart(2,"0"),o=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getFullYear();return"".concat(o,"/").concat(a,"/").concat(i)},D=[{field:"PKId",headerName:"No",width:80},{field:"fechaFormateada",headerName:"Fecha",width:150},{field:"NitC",headerName:"NIT",width:150},{field:"nombreC",headerName:"Nombre o Razon Social",width:400},{field:"actions",headerName:"",width:70,renderCell:e=>(0,o.jsx)(l.A,{onClick:()=>O(e.row),"aria-label":"cancel",color:"error",sx:{fontSize:40},children:(0,o.jsx)(s.A,{})})}],O=e=>{let t=a.filter(t=>t.PKId!==e.PKId);localStorage.setItem("pedidos",JSON.stringify(t)),m(t),S(t)},E=e=>{m(j.filter(t=>Object.values(t).map(e=>e?e.toString().toLowerCase():"").some(t=>t.includes(e.toLowerCase()))))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.A,{}),(0,o.jsxs)(u.A,{container:!0,direction:"column",sx:{minHeight:"100vh",backfroundColor:"#ffffff",padding:2},children:[(0,o.jsx)(u.A,{size:12,children:(0,o.jsxs)(r.A,{sx:{display:"flex",flexDirection:v?"column":"row",alignItems:"center"},children:[(0,o.jsx)("h2",{children:(0,o.jsx)("strong",{children:"PEDIDOS SIN ENVIAR"})}),(0,o.jsx)(r.A,{sx:{display:"flex",flexDirection:v?"column":"row",alignItems:"center",marginLeft:v?0:"auto",padding:2},children:(0,o.jsx)(n.A,{id:"outlined-basic",variant:"outlined",value:b,onChange:e=>{N(e.target.value),E(e.target.value),console.log(e.target.value)},placeholder:"Buscar...",sx:{width:300}})})]})}),(0,o.jsx)(u.A,{size:12,sx:{flexGrow:1,marginBottom:2},children:(0,o.jsx)(r.A,{sx:{width:"100%",heigth:v?500:750},children:(0,o.jsx)(h.z,{rows:a,columns:D,getRowId:e=>e.PKId,initialState:{pagination:{paginationModel:{pageSize:10}}},pageSizeOptions:[10],onRowDoubleClick:e=>k(e.row)})})})]}),(0,o.jsx)(d.A,{open:e,onClose:P,BackdropProps:{onClick:e=>e.stopPropagation()},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,o.jsx)(r.A,{sx:p,children:(0,o.jsx)(f.default,{pedido:C,handleClose:P})})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8320,3509,4017,4269,5065,251,1647,1991,1620,8441,1517,7358],()=>t(98286)),_N_E=e.O()}]);