(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4491],{91412:function(e,a,t){Promise.resolve().then(t.bind(t,69424))},69424:function(e,a,t){"use strict";t.r(a);var o=t(57437),l=t(70899),i=t(59832),r=t(2069),d=t(77584),s=t(58004),n=t(74853),c=t(98730),h=t(93769),u=t(29239),f=t(2265),m=t(32123),x=t(10932);let p={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxHeight:"90vh",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,overflow:"auto",p:4};a.default=()=>{let[e,a]=(0,f.useState)(!1),[t,g]=(0,f.useState)([]),{clienteV:w,setPedidosV:N}=(0,x.a)(),[b,C]=(0,f.useState)([]),[S,j]=(0,f.useState)([]),[Z,I]=(0,f.useState)(null),k=(0,l.Z)("(max-width: 600px)"),O=e=>{I(e),a(!0)},v=()=>{a(!1)};(0,f.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("pedidos"))||[];e.filter(e=>e.NitC===w.NIT);let a=e.map(e=>({...e,fechaFormateada:E(e.Fecha)}));g(a),N(a),j(a)},[N,w.NIT]);let E=e=>{let a=new Date(e),t=a.getDate().toString().padStart(2,"0"),o=(a.getMonth()+1).toString().padStart(2,"0"),l=a.getFullYear();return"".concat(o,"/").concat(t,"/").concat(l)},D=e=>{let a=t.filter(a=>a.PKId!==e.PKId);localStorage.setItem("pedidos",JSON.stringify(a)),g(a),N(a)},P=e=>{g(S.filter(a=>Object.values(a).map(e=>e?e.toString().toLowerCase():"").some(a=>a.includes(e.toLowerCase()))))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.Z,{}),(0,o.jsxs)(u.Z,{container:!0,direction:"column",sx:{minHeight:"100vh",backfroundColor:"#ffffff",padding:2},children:[(0,o.jsxs)(r.Z,{sx:{display:"flex",flexDirection:k?"column":"row",alignItems:"center"},children:[(0,o.jsx)(u.Z,{size:{xs:12,sm:6},children:(0,o.jsx)("h2",{children:(0,o.jsx)("strong",{children:"PEDIDOS POR ENVIAR"})})}),(0,o.jsx)(u.Z,{size:{xs:12,sm:6},children:(0,o.jsx)(r.Z,{sx:{display:"flex",flexDirection:k?"column":"row",alignItems:"center",marginLeft:k?0:"auto",padding:2},children:(0,o.jsx)(d.Z,{id:"outlined-basic",variant:"outlined",value:b,onChange:e=>{C(e.target.value),P(e.target.value),console.log(e.target.value)},placeholder:"Buscar...",sx:{width:"100%"}})})})]}),(0,o.jsx)(u.Z,{size:12,sx:{flexGrow:1,marginBottom:2},children:(0,o.jsx)(r.Z,{sx:{width:"100%",heigth:k?500:750},children:(0,o.jsx)(h._,{rows:t,columns:[{field:"pkid",headerName:"No",width:80,headerClassName:"header-bold"},{field:"fechaFormateada",headerName:"FECHA",width:150,headerClassName:"header-bold"},{field:"NitC",headerName:"NIT",width:150,headerClassName:"header-bold"},{field:"nombreC",headerName:"NOMBRE O RAZON SOCIAL",width:400,headerClassName:"header-bold"},{field:"actions",headerName:"",width:70,renderCell:e=>(0,o.jsx)(i.Z,{onClick:()=>D(e.row),"aria-label":"cancel",color:"error",sx:{fontSize:40},children:(0,o.jsx)(n.Z,{})})}],getRowId:e=>e.pkid,initialState:{pagination:{paginationModel:{pageSize:10}}},pageSizeOptions:[10],onRowDoubleClick:e=>O(e.row)})})})]}),(0,o.jsx)(s.Z,{open:e,onClose:v,BackdropProps:{onClick:e=>e.stopPropagation()},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,o.jsx)(r.Z,{sx:p,children:(0,o.jsx)(m.default,{pedido:Z,handleClose:v})})})]})}}},function(e){e.O(0,[9461,173,7584,5615,1238,3840,3683,8730,2123,2971,2117,1744],function(){return e(e.s=91412)}),_N_E=e.O()}]);